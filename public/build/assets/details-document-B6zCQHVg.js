import{u as P}from"./fileStore-CEW47ew5.js";import{v as T,p as $,a as j,b as I}from"./filepond-plugin-image-preview.esm-CtrZBiFf.js";import{b as M,V as y}from"./VCard-DdrdCYgD.js";import{M as A,r as s,o as t,f as r,e as a,b as o,v as h,x as g,c as b,a7 as x,z as u,n as E,i as L,d as w,a1 as p,F as R}from"./main-BZdTJTQS.js";import{V as k}from"./VCardText-CziOn49e.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./api-BK8xeDAc.js";import"./index-B3bPRkoL.js";import"./VAvatar-CyZhc4FN.js";import"./VImg-CmHmZYx9.js";import"./index-CZL_5zwN.js";const q={key:0,class:"d-flex justify-end mt-2"},G=["href"],H=A({__name:"details-document",props:{existingDocuments:{type:Array,default:()=>[]}},emits:["update:uploadDocumentShow","update:studentFormShow"],setup(F,{emit:V}){const C=T(I,j,$),D=F,f=V,m=s(null),S=s(D.existingDocuments),_=s([]),v=P();s([]);const B=()=>{_.value.length===0?m.value="Please upload at least one file.":(m.value=null,f("update:uploadDocumentShow",!1),f("update:studentFormShow",!0))},n=s(0),z={process:(i,l,e,c,N,J,K)=>{n.value+=1,v.uploadFile(i,l).then(d=>c(d)).catch(d=>N(d))},revert:(i,l,e)=>{n.value-=1,v.removeFile(i),l()}};return(i,l)=>(t(),r(y,{class:"mx-auto"},{default:a(()=>[o(M,null,{default:a(()=>[h("Please upload only color scan copy files "+g(n.value),1)]),_:1}),n.value>0?(t(),b("div",q,[o(x,{color:"primary",onClick:l[0]||(l[0]=e=>B())},{default:a(()=>[h("Update New File")]),_:1})])):u("",!0),o(k,null,{default:a(()=>[o(E(C),{ref:"pond",name:"student_document","allow-multiple":!0,allowRemove:"true",files:_.value,server:z,"label-idle":"Drop files here or <span class='filepond--label-action'>Browse</span>"},null,8,["files"]),(t(!0),b(R,null,L(S.value,(e,c)=>(t(),r(y,{key:c,class:"mb-2"},{default:a(()=>[o(k,{class:"d-flex justify-space-between align-center"},{default:a(()=>[w("div",null,[e.file_type=="pdf"?(t(),r(p,{key:0,size:"28",icon:"tabler-file-type-pdf"})):u("",!0),e.file_type=="image"?(t(),r(p,{key:1,size:"28",icon:"tabler-file-type-png"})):u("",!0),e.file_type=="document"?(t(),r(p,{key:2,size:"26",color:"red",icon:"tabler-file-type-doc"})):u("",!0),w("a",{href:e.path,target:"_blank"},g(e.file_name),9,G)]),o(x,{icon:"",href:e.path,target:"_blank",download:""},{default:a(()=>[o(p,{size:"24",icon:"tabler-download"})]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}}),se=U(H,[["__scopeId","data-v-7518cc3c"]]);export{se as default};
