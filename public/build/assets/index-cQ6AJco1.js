import{_ as K}from"./AppCardActions-B_aRfd_T.js";import{_ as W}from"./TablePagination-Bvv1rEsS.js";import{_ as X}from"./ShowMore-wBYZeu08.js";import{_ as Z}from"./AppSelect-BbM1tJt8.js";import{_ as ee}from"./AppTextField-BZ7i5A1p.js";import{a6 as te,k as ae,r as l,H as le,w as oe,o as se,c as re,b as a,e as o,d as u,v as m,a8 as A,n as ne,a9 as I,F as ie}from"./main-CfSJRsbM.js";import{_ as ue}from"./Filters-CbHzKAYZ.js";import{c as me}from"./commonFunction-BkA_nTpk.js";import{u as de}from"./recordStore-DRIJ_W67.js";import{S as $}from"./sweetalert2-z6gKu1nJ.js";import{V as q}from"./VCardText-nHLth1YU.js";import{V as E,a as pe}from"./VRow-Dvs5JUmb.js";import{b as P,V as B,c as ce}from"./VCard-Bo1s5N8n.js";import{V as ve}from"./VDataTableServer-B1T5ixC7.js";import{V as fe}from"./VForm-DdctGvrW.js";import{V as N}from"./VTextField-xsnkSIic.js";import{V as ye}from"./VSpacer-DQNrKYg6.js";import{V as Ve}from"./VDialog-DohQRPJk.js";import"./index-B3v6_Wmb.js";import"./dialog-transition-Dy6wSrbG.js";import"./forwardRefs-D3j0TLhE.js";import"./scopeId-BeXS-hpD.js";import"./index-DjbrUsV3.js";import"./VDivider-BInSY1gP.js";import"./VPagination-DNJ__phK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VInput-CF9acvts.js";import"./VSelect-Dt-iQ1rc.js";import"./VList-atdjnxzQ.js";import"./ssrBoot-CBMnPyb5.js";import"./VAvatar-JxCa_8Kw.js";import"./VImg-xla4BKew.js";import"./VMenu-CJOcAmh_.js";import"./VCheckboxBtn-CrIRhdMG.js";import"./VChip-DqyRD9NM.js";import"./AppDateTimePicker-DWy0RT-U.js";import"./AppAutocomplete-BPzUyrK4.js";import"./filter-Cn_yzoQh.js";import"./rolePermission-BCoh2l0u.js";import"./helpers-BXmJsDMf.js";import"./user-BsGrYTfj.js";/* empty css              */import"./VDataTable-aD_fuh16.js";import"./VTable-DULbNefL.js";const ge={class:"d-flex flex-column align-center"},_e={class:"text-center mt-2"},ke={class:"d-flex justify-space-between flex-wrap gap-6"},xe={class:"d-flex flex-row gap-4 align-center flex-wrap"},ct={__name:"index",setup(Ce){const D=te(()=>"calc(100vh - 200px)"),F=de();ae();const s=me(),d=l(""),p=l(!1),n=l(!1),_=l(""),k=l(""),x=l(""),S=l(!1),C=l(null),w=r=>!!r||"This field is required",c=l(null),v=l(null),f=l(null),y=l(""),V=l(null),M=l([]),z=l([]),O=l([]),T=l([]),U=l(0),i=l(10),g=l(1);le(async()=>{await b(),await H()});const H=async()=>{s.countries.length===0&&await s.getCountries(),s.intakes.length===0&&await s.getIntakes(),s.universities.length===0&&await s.getUniversities(),M.value=s.countries,z.value=s.intakes,O.value=s.universities},b=async(r=1)=>{p.value=!0;const e=await F.fetchRecord(r,d.value,c.value,v.value,f.value,y.value,V.value);T.value=e.data,U.value=e.total,p.value=!1};oe([d,c,v,f,y,V],()=>{b()});const j=r=>{b(r.page)},R=async()=>{C.value.validate().then(async r=>{if(r.valid)try{await F.requestForm({universityName:_.value,courseName:k.value,intakeName:x.value}),$.fire("Success!","Your request has been successfully submitted. Our team will review it and get back to you shortly.","success"),n.value=!1,C.value.reset()}catch{$.fire("Error!","Failed to submit the request.","error")}})},L=[{title:"Country",key:"country.name"},{title:"Intake",key:"intake.name"},{title:"University",key:"university.name"},{title:"Course Type",key:"course.type"},{title:"Course Name",key:"course.name"},{title:"Tuition Fee",key:"tuition_fee"},{title:"Course Duration",key:"course_duration"},{title:"Academic Requirement",key:"academic_requirement"},{title:"English Requirement",key:"english_requirement"},{title:"Actions",key:"actions",sortable:!1}];return(r,e)=>{const Q=ee,Y=Z,h=X,G=W,J=K;return se(),re(ie,null,[a(B,{class:"p-5"},{default:o(()=>[a(q,null,{default:o(()=>[a(E,null,{default:o(()=>[a(ue,{"selected-country":c.value,onUpdateCountry:e[0]||(e[0]=t=>c.value=t),"selected-intake":v.value,onUpdateIntake:e[1]||(e[1]=t=>v.value=t),"selected-university2":f.value,onUpdateUniversity2:e[2]||(e[2]=t=>f.value=t),"selected-courseName":y.value,onUpdateCourseName:e[3]||(e[3]=t=>y.value=t),"selected-courseType":V.value,onUpdateCourseType:e[4]||(e[4]=t=>V.value=t)},null,8,["selected-country","selected-intake","selected-university2","selected-courseName","selected-courseType"])]),_:1}),u("div",ge,[a(P,{class:"text-center mt-5"},{default:o(()=>[m(" Search Course/University/Intake ")]),_:1}),a(E,{class:"mt-2"},{default:o(()=>[a(pe,{cols:"12",sm:"8",md:"6"},{default:o(()=>[a(Q,{modelValue:d.value,"onUpdate:modelValue":e[5]||(e[5]=t=>d.value=t),placeholder:"Search Course/University/Intake",class:"mx-auto",style:{"max-inline-size":"30rem","min-inline-size":"30rem"}},null,8,["modelValue"])]),_:1})]),_:1}),u("div",_e,[m(" Don't find your desired record? "),u("a",{href:"#",onClick:e[6]||(e[6]=A(t=>n.value=!0,["prevent"]))},"Click here to request")])])]),_:1})]),_:1}),a(J,{class:"mt-2",loading:p.value,"no-actions":""},{default:o(()=>[a(q,null,{default:o(()=>[u("div",ke,[u("div",xe,[a(Y,{modelValue:i.value,"onUpdate:modelValue":e[7]||(e[7]=t=>i.value=t),items:[10,25,50,100],style:{"inline-size":"6.25rem"}},null,8,["modelValue"])])])]),_:1}),a(ve,{"items-per-page":i.value,"onUpdate:itemsPerPage":e[9]||(e[9]=t=>i.value=t),page:g.value,"onUpdate:page":e[10]||(e[10]=t=>g.value=t),loading:p.value,"items-length":U.value,headers:L,items:T.value,"item-value":"total",class:"text-no-wrap text-sm rounded-0",height:ne(D),"onUpdate:options":j},{"item.academic_requirement":o(({item:t})=>[a(h,{text:t.academic_requirement,lines:3},null,8,["text"])]),"item.english_requirement":o(({item:t})=>[a(h,{text:t.english_requirement,lines:3},null,8,["text"])]),bottom:o(()=>[a(G,{page:g.value,"onUpdate:page":e[8]||(e[8]=t=>g.value=t),"items-per-page":i.value,"total-items":U.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items-length","items","height"])]),_:1},8,["loading"]),a(Ve,{modelValue:n.value,"onUpdate:modelValue":e[16]||(e[16]=t=>n.value=t),"max-width":"500px"},{default:o(()=>[a(B,null,{default:o(()=>[a(P,null,{default:o(()=>[m("Request Record")]),_:1}),a(q,null,{default:o(()=>[a(fe,{ref_key:"refForm",ref:C,modelValue:S.value,"onUpdate:modelValue":e[14]||(e[14]=t=>S.value=t),onSubmit:A(R,["prevent"])},{default:o(()=>[a(N,{modelValue:_.value,"onUpdate:modelValue":e[11]||(e[11]=t=>_.value=t),rules:[w],label:"University Name",placeholder:"Enter university name",class:"mt-2"},null,8,["modelValue","rules"]),a(N,{modelValue:k.value,"onUpdate:modelValue":e[12]||(e[12]=t=>k.value=t),rules:[w],label:"Course Name",placeholder:"Enter course name",class:"mt-2"},null,8,["modelValue","rules"]),a(N,{modelValue:x.value,"onUpdate:modelValue":e[13]||(e[13]=t=>x.value=t),rules:[w],label:"Intake",placeholder:"Enter intake",class:"mt-2"},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),a(ce,null,{default:o(()=>[a(ye),a(I,{color:"primary",onClick:R},{default:o(()=>[m("Submit")]),_:1}),a(I,{onClick:e[15]||(e[15]=t=>n.value=!1)},{default:o(()=>[m("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{ct as default};
