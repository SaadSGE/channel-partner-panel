import{a as $}from"./formatters-Cw2xOObF.js";import{a4 as S,a as R,o as d,f as g,e as o,b as e,q as E,a0 as h,J as v,t as _,v as c,m as f,K as x,c as k,F as z,h as I,y as w,d as m,x as P,a5 as A,a6 as M,r as U}from"./main-Y3Sh28Aw.js";import{P as q}from"./vue3-perfect-scrollbar.esm-Bwp3-Gs6.js";import{V as L}from"./VBadge-CwIg61Al.js";import{V as D}from"./VMenu-GGjHv12B.js";import{V as F,a as O,b as j}from"./VCard-CqSY8o9d.js";import{V as J}from"./VChip-DBnZ-FQl.js";import{V as K}from"./VTooltip-D7pTDaIx.js";import{V as b}from"./VDivider-sjzvBSmX.js";import{V as G,a as B,b as H}from"./VList-BRZWj2gP.js";import{V as Q}from"./VAvatar-D523BiRc.js";import{V as W}from"./VSpacer-CUxg8Eg3.js";import{V as X}from"./VCardText-D3eZT6Q7.js";import"./helpers-DK5QwNv0.js";import"./VImg-Dw89oJcw.js";import"./VOverlay-BnAUeJGh.js";import"./easing-CjukEv2V.js";import"./lazy-Beugrc8j.js";import"./scopeId-CCiYBM7a.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-BFTI3M74.js";import"./index-CAooBzsD.js";import"./VSlideGroup-BiDuF2_k.js";import"./ssrBoot-BsJTHJem.js";/* empty css              */const Y={class:"d-flex align-start gap-3"},Z={key:0},ee={class:"text-sm font-weight-medium mb-1"},te={class:"text-body-2 mb-2",style:{"letter-spacing":"0.4px !important","line-height":"18px"}},ae={class:"text-sm text-disabled mb-0",style:{"letter-spacing":"0.4px !important","line-height":"18px"}},oe={class:"d-flex flex-column align-end"},ie={__name:"Notifications",props:{notifications:{type:Array,required:!0},badgeProps:{type:Object,required:!1,default:void 0},location:{type:null,required:!1,default:"bottom end"}},emits:["read","unread","remove","click:notification"],setup(y,{emit:n}){const i=y,r=n,p=S(()=>i.notifications.some(a=>a.isSeen===!1)),V=()=>{const a=i.notifications.map(u=>u.id);p.value?r("read",a):r("unread",a)},s=S(()=>i.notifications.filter(a=>a.isSeen===!1).length),l=(a,u)=>{a?r("unread",[u]):r("read",[u])};return(a,u)=>{const C=R("IconBtn");return d(),g(C,{id:"notification-btn"},{default:o(()=>[e(L,E(i.badgeProps,{"model-value":i.notifications.some(t=>!t.isSeen),color:"error",dot:"","offset-x":"2","offset-y":"3"}),{default:o(()=>[e(h,{size:"24",icon:"tabler-bell"})]),_:1},16,["model-value"]),e(D,{activator:"parent",width:"380px",location:i.location,offset:"12px","close-on-content-click":!1},{default:o(()=>[e(F,{class:"d-flex flex-column"},{default:o(()=>[e(O,{class:"notification-section"},{append:o(()=>[v(e(J,{size:"small",color:"primary",class:"me-2"},{default:o(()=>[_(c(f(s))+" New ",1)]),_:1},512),[[x,i.notifications.some(t=>!t.isSeen)]]),v(e(C,{size:"34",onClick:V},{default:o(()=>[e(h,{size:"20",color:"high-emphasis",icon:f(p)?"tabler-mail-opened":"tabler-mail"},null,8,["icon"]),e(K,{activator:"parent",location:"start"},{default:o(()=>[_(c(f(p)?"Mark all as read":"Mark all as unread"),1)]),_:1})]),_:1},512),[[x,i.notifications.length]])]),default:o(()=>[e(j,{class:"text-h6"},{default:o(()=>[_(" Notifications ")]),_:1})]),_:1}),e(b),e(f(q),{options:{wheelPropagation:!1},style:{"max-block-size":"23.75rem"}},{default:o(()=>[e(G,{class:"notification-list rounded-0 py-0"},{default:o(()=>[(d(!0),k(z,null,I(i.notifications,(t,T)=>(d(),k(z,{key:t.title},[T>0?(d(),g(b,{key:0})):w("",!0),e(B,{link:"",lines:"one","min-height":"66px",class:"list-item-hover-class",onClick:N=>a.$emit("click:notification",t)},{default:o(()=>[m("div",Y,[e(Q,{size:"40",color:t.color&&t.icon?t.color:void 0,image:t.img||void 0,icon:t.icon||void 0,variant:t.img?void 0:"tonal"},{default:o(()=>[t.text?(d(),k("span",Z,c(("avatarText"in a?a.avatarText:f($))(t.text)),1)):w("",!0)]),_:2},1032,["color","image","icon","variant"]),m("div",null,[m("p",ee,c(t.title),1),m("p",te,c(t.subtitle),1),m("p",ae,c(t.time),1)]),e(W),m("div",oe,[e(h,{size:"10",icon:"tabler-circle-filled",color:t.isSeen?"#a8aaae":"primary",class:P([`${t.isSeen?"visible-in-hover":""}`,"mb-2"]),onClick:A(N=>l(t.isSeen,t.id),["stop"])},null,8,["color","class","onClick"]),e(h,{size:"20",icon:"tabler-x",class:"visible-in-hover",onClick:N=>a.$emit("remove",t.id)},null,8,["onClick"])])])]),_:2},1032,["onClick"])],64))),128)),v(e(B,{class:"text-center text-medium-emphasis",style:{"block-size":"56px"}},{default:o(()=>[e(H,null,{default:o(()=>[_("No Notification Found!")]),_:1})]),_:1},512),[[x,!i.notifications.length]])]),_:1})]),_:1}),e(b),v(e(X,{class:"pa-4"},{default:o(()=>[e(M,{block:"",size:"small"},{default:o(()=>[_(" View All Notifications ")]),_:1})]),_:1},512),[[x,i.notifications.length]])]),_:1})]),_:1},8,["location"])]),_:1})}}},Te={__name:"NavBarNotifications",setup(y){const n=U([]),i=s=>{n.value.forEach((l,a)=>{s===l.id&&n.value.splice(a,1)})},r=s=>{n.value.forEach(l=>{s.forEach(a=>{a===l.id&&(l.isSeen=!0)})})},p=s=>{n.value.forEach(l=>{s.forEach(a=>{a===l.id&&(l.isSeen=!1)})})},V=s=>{s.isSeen||r([s.id])};return(s,l)=>{const a=ie;return d(),g(a,{notifications:f(n),onRemove:i,onRead:r,onUnread:p,"onClick:notification":V},null,8,["notifications"])}}};export{Te as default};
