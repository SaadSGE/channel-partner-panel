import{_ as b}from"./AppTextField-BqsncsSu.js";import{r as a,H as D,o as x,f as y,e as l,d,b as o,a1 as F,a7 as f,v as C,a6 as O}from"./main-CVRfycm4.js";import{c as B}from"./commonFunction-D7TDzCKB.js";import{V as I}from"./VNavigationDrawer-qMqSuC5-.js";import{V as z}from"./VDivider-Bn7E2IsI.js";import{V as A}from"./VForm-aH247bWA.js";import"./form-D85Wxfoy.js";import"./VTextField-v5YW52_y.js";/* empty css                   */import"./VCounter--vRERvvB.js";import"./index-BhvHcYpl.js";import"./index-CWpsTWbp.js";import"./VField-CCn65f7I.js";import"./easing-CjukEv2V.js";import"./VInput-DWWiOC81.js";import"./forwardRefs-C-GTDzx5.js";import"./api-8lhrcwMn.js";import"./index-B3bPRkoL.js";import"./scopeId-BtJxPNek.js";import"./ssrBoot-BevKE9Re.js";const U={class:"customizer-heading d-flex align-center justify-space-between"},q=d("div",null,[d("h6",{class:"text-h6"},"Add New Intake")],-1),M={class:"d-flex align-center gap-1"},ie={__name:"add",props:{isNavDrawerOpen:Boolean},emits:["update:isNavDrawerOpen"],setup(v,{emit:g}){a([]);const e=B();a("");const s=a("");a(""),a(),a();const k=a([]),w=a([]),V=a([]),r=a(!1),m=v,u=a(null),c=g;D(async()=>{e.countries.length===0&&await e.getCountries(),e.courses.length===0&&await e.getCourses(),e.intakes.length===0&&await e.getIntakes(),e.universities.length===0&&await e.getUniversities(),e.courseDetails.length===0&&await e.getCourseDetails(),k.value=e.countries,w.value=e.intakes,V.value=e.universities});const h=i=>!!i||"Required field",p=async()=>{u.value.validate().then(i=>{if(i.valid)_();else return})},_=async()=>{const i={name:s.value};try{r.value=!0,await e.addIntake(i),r.value=!1,s.value="",c("update:isNavDrawerOpen",!1)}catch(t){console.error("Failed to add intake:",t)}};return(i,t)=>{const N=b;return x(),y(I,{modelValue:m.isNavDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=n=>m.isNavDrawerOpen=n),temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:l(()=>[d("div",U,[q,d("div",M,[o(f,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:t[0]||(t[0]=n=>c("update:isNavDrawerOpen",!1))},{default:l(()=>[o(F,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),o(z),o(A,{ref_key:"refForm",ref:u,onSubmit:O(p,["prevent"]),class:"form-padding mt-4"},{default:l(()=>[o(N,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=n=>s.value=n),label:"Intake Name",rules:[h],class:"mb-2"},null,8,["modelValue","rules"]),o(f,{loading:r.value,disabled:r.value,color:"primary",onClick:p,class:"mt-4",block:""},{default:l(()=>[C("Add")]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1},8,["modelValue"])}}};export{ie as default};
