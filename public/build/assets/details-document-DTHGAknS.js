import{u as z}from"./fileStore-Dg-gozaN.js";import{u as P}from"./submitApplication-CUAvBQEN.js";import{v as A,p as T,a as j,b as I}from"./filepond-plugin-image-preview.esm-DsjwH6Uj.js";import{S as $}from"./sweetalert2-z6gKu1nJ.js";import{M as R,j as E,r as c,o as t,f as r,e as a,b as o,v as m,c as _,a7 as y,z as p,n as K,i as L,d as v,a1 as u,x as M,F as O}from"./main-Dbdb_Jnc.js";import{b as U,V as h}from"./VCard-XFHqvPCA.js";import{V as b}from"./VCardText-beG2aZUD.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./api-D7hFpRzC.js";import"./index-B3bPRkoL.js";import"./VAvatar-D9Fzyihw.js";import"./VImg-Bg4OhSXZ.js";import"./index-CsYfCRXS.js";const G={key:0,class:"d-flex justify-end mt-2"},H=["href"],J=R({__name:"details-document",props:{existingDocuments:{type:Array,default:()=>[]}},emits:["update:uploadDocumentShow","update:studentFormShow"],setup(x,{emit:Q}){const g=E(),w=P(),l=z(),k=A(I,j,T),F=x;c(null);const S=c(F.existingDocuments),V=c([]);l.filePaths;const D=g.params.id,i=c(0),C=()=>{w.updateApplicationsFile(D,l.filePaths),$.fire({icon:"success",title:"Success",text:"New Document Added Successfully",confirmButtonText:"OK"}),i.value=0};l.resetFiles();const B={process:(n,s,e,d,N,W,X)=>{i.value+=1,l.uploadFile(n,s).then(f=>d(f)).catch(f=>N(f))},revert:(n,s,e)=>{i.value-=1,l.removeFile(n),s()}};return(n,s)=>(t(),r(h,{class:"mx-auto"},{default:a(()=>[o(U,null,{default:a(()=>[m("Please upload only color scan copy files")]),_:1}),i.value>0?(t(),_("div",G,[o(y,{color:"primary",onClick:s[0]||(s[0]=e=>C())},{default:a(()=>[m("Update New Document")]),_:1})])):p("",!0),o(b,null,{default:a(()=>[o(K(k),{ref:"pond",name:"student_document","allow-multiple":!0,allowRemove:"true",files:V.value,server:B,"label-idle":"Drop files here or <span class='filepond--label-action'>Browse</span>"},null,8,["files"]),(t(!0),_(O,null,L(S.value,(e,d)=>(t(),r(h,{key:d,class:"mb-2"},{default:a(()=>[o(b,{class:"d-flex justify-space-between align-center"},{default:a(()=>[v("div",null,[e.file_type=="pdf"?(t(),r(u,{key:0,size:"28",icon:"tabler-file-type-pdf"})):p("",!0),e.file_type=="image"?(t(),r(u,{key:1,size:"28",icon:"tabler-file-type-png"})):p("",!0),e.file_type=="document"?(t(),r(u,{key:2,size:"26",color:"red",icon:"tabler-file-type-doc"})):p("",!0),v("a",{href:e.path,target:"_blank"},M(e.file_name),9,H)]),o(y,{icon:"",href:e.path,target:"_blank",download:""},{default:a(()=>[o(u,{size:"24",icon:"tabler-download"})]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}}),ue=q(J,[["__scopeId","data-v-61894ed5"]]);export{ue as default};
