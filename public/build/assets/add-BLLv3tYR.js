import{_ as y}from"./AppAutocomplete-D4Z3zDO1.js";import{_ as B}from"./AppTextField-CxuAAbDQ.js";import{r as o,H as x,o as D,f as C,e as n,d as m,b as t,a1 as F,a7 as _,v as k,a6 as A}from"./main-BExmZ2kf.js";import{c as O}from"./commonFunction-BfWgLDUp.js";import{V as z}from"./VNavigationDrawer-C5Dv99F-.js";import{V as S}from"./VDivider-DGSOfiil.js";import{V as U}from"./VForm-BbNpJMZp.js";import"./VTextField-CEVy12qb.js";import"./index-Bj_q85Ts.js";import"./index-KIGaSWeg.js";import"./forwardRefs-D3j0TLhE.js";import"./VSelect-B8JK6cKz.js";import"./VList-CROdwGQN.js";import"./ssrBoot-BNMwvSjN.js";import"./VAvatar-B4kKMTij.js";import"./VImg-ClVMkUI5.js";import"./dialog-transition-CbYxp5Cu.js";import"./lazy-DZ-i-Qlv.js";import"./scopeId-Dfe144HE.js";import"./VMenu-BJx8Sy0I.js";import"./VCheckboxBtn-Ds5tyiho.js";import"./VChip-C7r6BedM.js";import"./VSlideGroup-rtKvT2BM.js";import"./filter-DX8uJgVb.js";import"./api-gXFPZ2Tx.js";import"./index-BYrzgnBV.js";const $={class:"customizer-heading d-flex align-center justify-space-between"},q=m("div",null,[m("h6",{class:"text-h6"},"Add New Branch")],-1),M={class:"d-flex align-center gap-1"},de={__name:"add",props:{isNavDrawerOpen:Boolean,updateBranches:Function},emits:["update:isNavDrawerOpen","updateBranches"],setup(w,{emit:N}){o([]);const d=O(),i=o(""),l=o(null),p=o([]),s=o(!1),f=w,v=o(null),c=N,V=r=>!!r||"Required field";x(async()=>{await b()});const b=async()=>{try{await d.getAllCountries(),p.value=d.allCountries}catch(r){console.error("Error fetching countries:",r)}},h=async()=>{if(!await v.value.validate())return;const e={name:i.value,country_id:l.value};try{s.value=!0,await d.addBranch(e),s.value=!1,i.value="",l.value=null,c("update:isNavDrawerOpen",!1),c("updateBranches")}catch(u){console.error("Failed to add branch:",u)}};return(r,e)=>{const u=B,g=y;return D(),C(z,{modelValue:f.isNavDrawerOpen,"onUpdate:modelValue":e[3]||(e[3]=a=>f.isNavDrawerOpen=a),temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:n(()=>[m("div",$,[q,m("div",M,[t(_,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:e[0]||(e[0]=a=>c("update:isNavDrawerOpen",!1))},{default:n(()=>[t(F,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),t(S),t(U,{ref_key:"refForm",ref:v,onSubmit:A(h,["prevent"]),class:"form-padding mt-4"},{default:n(()=>[t(u,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a),label:"Branch Name",rules:[V],class:"mb-2"},null,8,["modelValue","rules"]),t(g,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value=a),items:p.value,"item-title":a=>a.name,"item-value":a=>a.id,label:"Country Name",placeholder:"Select Country",rules:[V],clearable:""},null,8,["modelValue","items","item-title","item-value","rules"]),t(_,{loading:s.value,disabled:s.value,color:"primary",onClick:h,class:"mt-4",block:""},{default:n(()=>[k(" Add ")]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1},8,["modelValue"])}}};export{de as default};
