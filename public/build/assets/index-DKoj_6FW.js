import{_ as W}from"./AppCardActions-BXF6kIhD.js";import{_ as X}from"./TablePagination-D_DfYiMJ.js";import{_ as Z}from"./ShowMore-CbHOpulC.js";import{_ as ee}from"./AppSelect-CZN_1s3Q.js";import{_ as te}from"./AppTextField-DSJpg-NM.js";import{_ as le}from"./AppAutocomplete-BNp56ce7.js";import{a5 as ae,k as oe,r as o,H as ie,w as re,o as se,c as ne,b as l,e as a,d as u,v as m,a6 as B,n as ue,a7 as D,F as me}from"./main-CTbrSevp.js";import{c as de}from"./commonFunction-Cdif8_FG.js";import{u as pe}from"./recordStore-DPB2rOpn.js";import{S as M}from"./sweetalert2-z6gKu1nJ.js";import{V as h}from"./VCardText-B5fKlnga.js";import{V as z,a as d}from"./VRow-DXbMUSlC.js";import{b as O,V as H,d as ce}from"./VCard-Ci9imp9j.js";import{V as ve}from"./VDataTableServer-DvvpGQ0D.js";import{V as fe}from"./VForm-BFeOvcf-.js";import{V as S}from"./VTextField-ChiVERsS.js";import{V as Ve}from"./VSpacer-BNuSM6zL.js";import{V as ye}from"./VDialog-DthjgEkh.js";import"./index-V586HTca.js";import"./VOverlay-B7R2_D3J.js";import"./easing-CjukEv2V.js";import"./lazy-DNzdQdOs.js";import"./scopeId-x2Y0lfX8.js";import"./index-BRgyovDe.js";import"./VDivider-L9Mlvl37.js";import"./VPagination-DD-FVuJ8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-Ds3HToZK.js";import"./VSelect-C7h_PRZR.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-DvA9uE5Z.js";import"./ssrBoot-CcnxGcn-.js";import"./VAvatar-DBW7-bfY.js";import"./VImg-B92ntwLo.js";import"./dialog-transition-DZuNSGQw.js";import"./VMenu-DN6OOuIy.js";import"./VCheckboxBtn-Cq39waP4.js";import"./VSelectionControl-xyKXg1p6.js";import"./VChip-CPxWF4ht.js";import"./VSlideGroup-BsuK103q.js";import"./filter-CmtLIoGQ.js";import"./api-CJk2VHiE.js";import"./index-Dz1rBMAR.js";/* empty css              */import"./VDataTable-D_YV_GL3.js";import"./VTable-DY1isjCm.js";/* empty css                   */import"./VCounter-Blvl4zX6.js";import"./VField-JRbYnBcN.js";import"./VInput-BqNPD8rp.js";const _e={class:"d-flex flex-column align-center"},ge={class:"text-center mt-2"},ke={class:"d-flex justify-space-between flex-wrap gap-6"},be={class:"d-flex flex-row gap-4 align-center flex-wrap"},gt={__name:"index",setup(xe){const j=ae(()=>"calc(100vh - 200px)"),q=pe();oe();const i=de(),p=o(""),c=o(!1),s=o(!1),g=o(""),k=o(""),b=o(""),N=o(!1),x=o(null),C=r=>!!r||"This field is required",v=o(null),f=o(null),V=o(null),y=o(""),R=o([]),T=o([]),A=o([]),I=o([]),w=o(0),n=o(10),_=o(1);ie(async()=>{await U(),await L()});const L=async()=>{i.countries.length===0&&await i.getCountries(),i.intakes.length===0&&await i.getIntakes(),i.universities.length===0&&await i.getUniversities(),R.value=i.countries,T.value=i.intakes,A.value=i.universities},U=async(r=1)=>{c.value=!0;const t=await q.fetchRecord(r,p.value,v.value,f.value,V.value,y.value);I.value=t.data,w.value=t.total,c.value=!1};re([p,v,f,V,y],()=>{U()});const Q=r=>{U(r.page)},E=async()=>{x.value.validate().then(async r=>{if(r.valid)try{await q.requestForm({universityName:g.value,courseName:k.value,intakeName:b.value}),M.fire("Success!","Your request has been successfully submitted. Our team will review it and get back to you shortly.","success"),s.value=!1,x.value.reset()}catch{M.fire("Error!","Failed to submit the request.","error")}})},Y=[{title:"Country",key:"country.name"},{title:"Intake",key:"intake.name"},{title:"University",key:"university.name"},{title:"Course Type",key:"course.type"},{title:"Course Name",key:"course.name"},{title:"Tuition Fee",key:"tuition_fee"},{title:"Course Duration",key:"course_duration"},{title:"Academic Requirement",key:"academic_requirement"},{title:"English Requirement",key:"english_requirement"},{title:"Actions",key:"actions",sortable:!1}];return(r,t)=>{const F=le,$=te,G=ee,P=Z,J=X,K=W;return se(),ne(me,null,[l(H,{class:"p-5"},{default:a(()=>[l(h,null,{default:a(()=>[l(z,null,{default:a(()=>[l(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[l(F,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),items:R.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Filter by Country",placeholder:"Select Country",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1}),l(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[l(F,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),items:T.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Filter by Intake",placeholder:"Select Intake",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1}),l(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[l(F,{modelValue:V.value,"onUpdate:modelValue":t[2]||(t[2]=e=>V.value=e),items:A.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Filter by University",placeholder:"Select University",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1}),l(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[l($,{modelValue:y.value,"onUpdate:modelValue":t[3]||(t[3]=e=>y.value=e),label:"Filter by Course Name",placeholder:"Enter Course Name",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),u("div",_e,[l(O,{class:"text-center mt-5"},{default:a(()=>[m(" Search Course/University/Intake ")]),_:1}),l(z,{class:"mt-2"},{default:a(()=>[l(d,{cols:"12",sm:"8",md:"6"},{default:a(()=>[l($,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),placeholder:"Search Course/University/Intake",class:"mx-auto",style:{"max-inline-size":"30rem","min-inline-size":"30rem"}},null,8,["modelValue"])]),_:1})]),_:1}),u("div",ge,[m(" Don't find your desired record? "),u("a",{href:"#",onClick:t[5]||(t[5]=B(e=>s.value=!0,["prevent"]))},"Click here to request")])])]),_:1})]),_:1}),l(K,{class:"mt-2",loading:c.value,"no-actions":""},{default:a(()=>[l(h,null,{default:a(()=>[u("div",ke,[u("div",be,[l(G,{modelValue:n.value,"onUpdate:modelValue":t[6]||(t[6]=e=>n.value=e),items:[10,25,50,100],style:{"inline-size":"6.25rem"}},null,8,["modelValue"])])])]),_:1}),l(ve,{"items-per-page":n.value,"onUpdate:itemsPerPage":t[8]||(t[8]=e=>n.value=e),page:_.value,"onUpdate:page":t[9]||(t[9]=e=>_.value=e),loading:c.value,"items-length":w.value,headers:Y,items:I.value,"item-value":"total",class:"text-no-wrap text-sm rounded-0",height:ue(j),"onUpdate:options":Q},{"item.academic_requirement":a(({item:e})=>[l(P,{text:e.academic_requirement,lines:3},null,8,["text"])]),"item.english_requirement":a(({item:e})=>[l(P,{text:e.english_requirement,lines:3},null,8,["text"])]),bottom:a(()=>[l(J,{page:_.value,"onUpdate:page":t[7]||(t[7]=e=>_.value=e),"items-per-page":n.value,"total-items":w.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items-length","items","height"])]),_:1},8,["loading"]),l(ye,{modelValue:s.value,"onUpdate:modelValue":t[15]||(t[15]=e=>s.value=e),"max-width":"500px"},{default:a(()=>[l(H,null,{default:a(()=>[l(O,null,{default:a(()=>[m("Request Record")]),_:1}),l(h,null,{default:a(()=>[l(fe,{ref_key:"refForm",ref:x,modelValue:N.value,"onUpdate:modelValue":t[13]||(t[13]=e=>N.value=e),onSubmit:B(E,["prevent"])},{default:a(()=>[l(S,{modelValue:g.value,"onUpdate:modelValue":t[10]||(t[10]=e=>g.value=e),rules:[C],label:"University Name",placeholder:"Enter university name",class:"mt-2"},null,8,["modelValue","rules"]),l(S,{modelValue:k.value,"onUpdate:modelValue":t[11]||(t[11]=e=>k.value=e),rules:[C],label:"Course Name",placeholder:"Enter course name",class:"mt-2"},null,8,["modelValue","rules"]),l(S,{modelValue:b.value,"onUpdate:modelValue":t[12]||(t[12]=e=>b.value=e),rules:[C],label:"Intake",placeholder:"Enter intake",class:"mt-2"},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),l(ce,null,{default:a(()=>[l(Ve),l(D,{color:"primary",onClick:E},{default:a(()=>[m("Submit")]),_:1}),l(D,{onClick:t[14]||(t[14]=e=>s.value=!1)},{default:a(()=>[m("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{gt as default};
