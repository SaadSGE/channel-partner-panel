import{_ as V}from"./AppTextField-C5MUe8ys.js";import{u as k}from"./applicationList-DPrCUD5p.js";import{S as u}from"./sweetalert2-z6gKu1nJ.js";import{r as _,k as A,H as S,a as D,o as I,c as b,b as t,e as s,n as m,a3 as B,d as r,x as n,y as T,v as N,a1 as h}from"./main-Da9Cfvn-.js";import{V as P}from"./VCardText-N1ahu46L.js";import{V as R,a as L}from"./VRow-B5DTH64R.js";import{V as U}from"./VDataTable-wY9T4_Tm.js";import{V as $}from"./VChip-D5WjMlWu.js";import{V as E}from"./VCard-DJgRcyQr.js";import"./form-DREXx8mB.js";import"./VTextField-Btw88DHd.js";/* empty css                   */import"./VCounter-m53apEya.js";import"./index-Kati59Te.js";import"./index-C7CqAtYX.js";import"./VField-B7e3i0Ev.js";import"./easing-CjukEv2V.js";import"./VInput-DpXxtzuO.js";import"./forwardRefs-C-GTDzx5.js";import"./api-D_LRib39.js";import"./index-B3bPRkoL.js";import"./VAvatar-C85CCYIS.js";import"./VImg-D0ISm0nK.js";/* empty css              */import"./VPagination-BLCNjFUv.js";import"./VSelect-DTlFZqze.js";import"./VList-DyHUsu4K.js";import"./ssrBoot-CamUnSWC.js";import"./VDivider-B7wdTp-q.js";import"./dialog-transition-CgmplKox.js";import"./VMenu-BfslBzpP.js";import"./VOverlay-Dkq8KKdk.js";import"./lazy-BqMdZ59d.js";import"./scopeId-PBulojJ0.js";import"./VCheckboxBtn-BBv-vr3Y.js";import"./VSelectionControl-Dxhg8o76.js";import"./VTable-BGe6KJzT.js";import"./filter-BmDjzc2l.js";import"./VSlideGroup-BkCQGbdC.js";const O={class:"d-flex flex-column ms-3"},z={class:"d-block font-weight-medium text-truncate text-high-emphasis"},j={class:"text-md"},q={class:"text-md"},F={class:"d-flex flex-column ms-3"},Be={__name:"index",setup(H){const i=k(),c=_(),y=A();S(async()=>{c.value=await i.getApplicationList()});const o=_(""),w=[{title:"APPLICATION ID",key:"application_id"},{title:"Student Name",key:"student.name"},{title:"University/Course Details",key:"university.name"},{title:"Status",key:"status"},{title:"Date Added",key:"created_at"},{title:"Action",key:"action",sortable:!1}],d=a=>{switch(a){case 0:return"primary";case 1:return"success";case 2:return"warning";case 3:return"info";case 4:return"info";case 5:return"warning";case 6:return"success";case 7:return"warning";case 8:return"danger";case 9:return"danger";case 10:return"secondary";case 11:return"success";case 12:return"warning";default:return"secondary"}},x=a=>{switch(a){case 0:return"Application Processing";case 1:return"Application Submitted";case 2:return"Pending Docs";case 3:return"Offer Issue Conditional";case 4:return"Offer Issue Unconditional";case 5:return"Need Payment";case 6:return"CAS Issued";case 7:return"Additional Doc Needed";case 8:return"Refund Required";case 9:return"Application Rejected";case 10:return"Session Expired";case 11:return"Doc Received";case 12:return"Partial Payment";default:return"Unknown Status"}},C=a=>{y.push({name:"application-details",params:{id:a}})},g=async a=>{if((await u.fire({title:"Are you sure?",text:"Do you want to delete this item?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{await i.deleteItem(a),c.value=await i.getApplicationList(),u.fire("Deleted!","The item has been deleted.","success")}catch{u.fire("Error!","There was an error deleting the item.","error")}};return(a,l)=>{const p=V,f=D("IconBtn");return I(),b("div",null,[t(E,null,{default:s(()=>[t(P,null,{default:s(()=>[t(R,null,{default:s(()=>[t(L,{cols:"12","offset-md":"8",md:"4"},{default:s(()=>[t(p,{modelValue:m(o),"onUpdate:modelValue":l[0]||(l[0]=e=>B(o)?o.value=e:null),placeholder:"Search ...","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(U,{headers:w,items:m(c)||[],search:m(o),"items-per-page":5,class:"text-no-wrap color-black"},{"item.student.name":s(({item:e})=>[r("p",null,n(e.student.first_name)+" "+n(e.student.last_name),1)]),"item.university.name":s(({item:e})=>[r("div",O,[r("span",z,n(e.university.name),1),r("span",j,n(e.course.name),1),r("span",q,n(e.intake.name),1)])]),"item.status":s(({item:e})=>[t($,{color:d(e.status),class:T([`text-${d(e.status)}`,"font-weight-medium"]),size:"small"},{default:s(()=>[N(n(x(e.status)),1)]),_:2},1032,["color","class"])]),"item.action":s(({item:e})=>[r("div",F,[t(f,{onClick:v=>C(e.id)},{default:s(()=>[t(h,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),t(f,{onClick:v=>g(e.id)},{default:s(()=>[t(h,{icon:"tabler-trash"})]),_:2},1032,["onClick"])])]),_:1},8,["items","search"])]),_:1})])}}};export{Be as default};
