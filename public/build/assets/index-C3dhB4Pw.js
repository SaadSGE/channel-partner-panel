import{_ as V}from"./AppCardActions-Bp693Q07.js";import{_ as S}from"./AppTextField-N1_aK3r9.js";import{u as D}from"./applicationList-5MyHLVfZ.js";import{S as d}from"./sweetalert2-z6gKu1nJ.js";import{r as p,k as I,H as b,a as B,o as N,c as T,b as t,e as a,n as i,a3 as P,d as r,x as n,y as R,v as L,a1 as w}from"./main-Bgw2yq9P.js";import{V as $}from"./VCardText-xg5obDU7.js";import{V as U,a as E}from"./VRow-C1NpCJOR.js";import{V as O}from"./VDataTable-Dd7jQX0y.js";import{V as z}from"./VChip-BnlOPk2k.js";import"./index-DkpKNTNu.js";import"./VCard-CC1Ylghx.js";import"./VAvatar-earBcS3i.js";import"./VImg-0GyeiznS.js";import"./index-PR7rrReX.js";import"./VOverlay-yUzmhQYA.js";import"./easing-CjukEv2V.js";import"./lazy-CHBZcaMB.js";import"./scopeId-BK2mvUC0.js";import"./form-CXqNFIjL.js";import"./VTextField-B3-SgAhU.js";/* empty css                   */import"./VCounter-DnZ16s1t.js";import"./VField-DrBxqUe8.js";import"./VInput-CFZKC_ar.js";import"./forwardRefs-C-GTDzx5.js";import"./api-BxOq9C0x.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VPagination-DN6DSMOh.js";import"./VSelect-C1c-mSZR.js";import"./VList-DZbsv4rt.js";import"./ssrBoot-CpuyLSiG.js";import"./VDivider-Bbu61_LB.js";import"./dialog-transition-DKnomuQ5.js";import"./VMenu-vbgZUBwf.js";import"./VCheckboxBtn-Dh13Fjsm.js";import"./VSelectionControl-BPcxmUlb.js";import"./VTable-NpAU6Kie.js";import"./filter-AH1UCgY6.js";import"./VSlideGroup-CtQUzKdG.js";const j={class:"d-flex flex-column ms-3"},q={class:"d-block font-weight-medium text-truncate text-high-emphasis"},F={class:"text-md"},H={class:"text-md"},M={class:"d-flex flex-column ms-3"},Pe={__name:"index",setup(Y){const c=D(),l=p(),y=I();b(async()=>{u.value=!0,l.value=await c.getApplicationList(),u.value=!1});const o=p(""),x=[{title:"APPLICATION ID",key:"application_id"},{title:"Student Name",key:"student.name"},{title:"University/Course Details",key:"university.name"},{title:"Status",key:"status"},{title:"Date Added",key:"created_at"},{title:"Action",key:"action",sortable:!1}],f=s=>{switch(s){case 0:return"primary";case 1:return"success";case 2:return"warning";case 3:return"info";case 4:return"info";case 5:return"warning";case 6:return"success";case 7:return"warning";case 8:return"danger";case 9:return"danger";case 10:return"secondary";case 11:return"success";case 12:return"warning";default:return"secondary"}},g=s=>{switch(s){case 0:return"Application Processing";case 1:return"Application Submitted";case 2:return"Pending Docs";case 3:return"Offer Issue Conditional";case 4:return"Offer Issue Unconditional";case 5:return"Need Payment";case 6:return"CAS Issued";case 7:return"Additional Doc Needed";case 8:return"Refund Required";case 9:return"Application Rejected";case 10:return"Session Expired";case 11:return"Doc Received";case 12:return"Partial Payment";default:return"Unknown Status"}},C=s=>{y.push({name:"application-details",params:{id:s}})},v=async s=>{if((await d.fire({title:"Are you sure?",text:"Do you want to delete this item?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{await c.deleteItem(s),l.value=await c.getApplicationList(),d.fire("Deleted!","The item has been deleted.","success")}catch{d.fire("Error!","There was an error deleting the item.","error")}},u=p(!1);return(s,m)=>{const _=S,h=B("IconBtn"),A=V;return N(),T("div",null,[t(A,{title:"New Application",loading:i(u),"no-actions":""},{default:a(()=>[t($,null,{default:a(()=>[t(U,null,{default:a(()=>[t(E,{cols:"12","offset-md":"8",md:"4"},{default:a(()=>[t(_,{modelValue:i(o),"onUpdate:modelValue":m[0]||(m[0]=e=>P(o)?o.value=e:null),placeholder:"Search ...","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(O,{headers:x,items:i(l)||[],search:i(o),"items-per-page":5,class:"text-no-wrap color-black"},{"item.student.name":a(({item:e})=>[r("p",null,n(e.student.first_name)+" "+n(e.student.last_name),1)]),"item.university.name":a(({item:e})=>[r("div",j,[r("span",q,n(e.university.name),1),r("span",F,n(e.course.name),1),r("span",H,n(e.intake.name),1)])]),"item.status":a(({item:e})=>[t(z,{color:f(e.status),class:R([`text-${f(e.status)}`,"font-weight-medium"]),size:"small"},{default:a(()=>[L(n(g(e.status)),1)]),_:2},1032,["color","class"])]),"item.action":a(({item:e})=>[r("div",M,[t(h,{onClick:k=>C(e.id)},{default:a(()=>[t(w,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),t(h,{onClick:k=>v(e.id)},{default:a(()=>[t(w,{icon:"tabler-trash"})]),_:2},1032,["onClick"])])]),_:1},8,["items","search"])]),_:1},8,["loading"])])}}};export{Pe as default};
