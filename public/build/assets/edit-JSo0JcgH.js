import{_ as h}from"./AppTextField-Bg0Iex-x.js";import{r as t,H as C,w as x,o as D,f as z,e as n,d as u,b as o,a2 as F,a9 as y,v as O,a8 as k}from"./main-CgtKB71N.js";import{c as A}from"./commonFunction-Bxg6lQoN.js";import{V as B}from"./VNavigationDrawer-CyjU0co9.js";import{V as U}from"./VDivider-D3KovcrH.js";import{V as I}from"./VForm-BdlPRDBP.js";import"./VInput-DqPIUAvk.js";import"./index-B949ok8z.js";import"./index-ESVorDRu.js";import"./forwardRefs-D3j0TLhE.js";import"./VTextField-BZX_Xv3C.js";import"./scopeId-P_VpMf7S.js";import"./ssrBoot-GMQYQBiS.js";const T={class:"customizer-heading d-flex align-center justify-space-between"},j=u("div",null,[u("h6",{class:"text-h6"},"Update Country")],-1),q={class:"d-flex align-center gap-1"},X={__name:"edit",props:{isNavDrawerOpen:Boolean,editedItem:Object},emits:["update:isNavDrawerOpen"],setup(_,{emit:b}){t([]);const d=A(),m=t(""),l=t(""),g=t([]),s=t(!1),c=_,p=t(null),f=t(null),v=b;C(async()=>{await N()});const N=async()=>{try{await d.getAllCountries(),g.value=await d.allCountries}catch(a){console.error("Error fetching countries:",a)}};x(()=>c.editedItem,a=>{a&&(l.value=a.name,p.value=a.id)},{immediate:!0});const V=a=>!!a||"Required field",w=async()=>{if(!await f.value.validate())return;const e={name:l.value,timezone:m.value};try{s.value=!0,await d.updateAllCountry(p.value,e),s.value=!1,l.value="",v("update:isNavDrawerOpen",!1)}catch(i){console.error("Failed to update country:",i)}};return(a,e)=>{const i=h;return D(),z(B,{modelValue:c.isNavDrawerOpen,"onUpdate:modelValue":e[3]||(e[3]=r=>c.isNavDrawerOpen=r),temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:n(()=>[u("div",T,[j,u("div",q,[o(y,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:e[0]||(e[0]=r=>v("update:isNavDrawerOpen",!1))},{default:n(()=>[o(F,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),o(U),o(I,{ref_key:"refForm",ref:f,onSubmit:k(w,["prevent"]),class:"form-padding mt-4"},{default:n(()=>[o(i,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),label:"Country Name",rules:[V],class:"mb-2"},null,8,["modelValue","rules"]),o(i,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=r=>m.value=r),label:"Timezone",rules:[V],class:"mb-2"},null,8,["modelValue","rules"]),o(y,{loading:s.value,disabled:s.value,color:"primary",onClick:w,class:"mt-4",block:""},{default:n(()=>[O(" Update ")]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1},8,["modelValue"])}}};export{X as default};
