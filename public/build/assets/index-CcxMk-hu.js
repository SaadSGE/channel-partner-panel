import{u as x}from"./notification-l1cM0rLo.js";import{k,r as s,H as N,o as i,f as C,e as a,b as o,v as n,c as _,i as b,F as V,y as A,d as v,x as u}from"./main-BhhNK-IV.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as L,V as y}from"./VCard-D5W9eqWj.js";import{V as P,a as B,b as S,d as T}from"./VList-CGfthb0r.js";import{V as R}from"./VAvatar-Dh8nH6ra.js";import{V as w}from"./VListItemAction-DzUmMfFm.js";import{V as D}from"./VDivider-BoUSEDfN.js";import{V as E}from"./VPagination-Cl-hNh_-.js";import{V as F}from"./VCardText-D-fBXcQu.js";import"./api-Ddg05ygE.js";import"./index-Dz1rBMAR.js";import"./VImg-BXQ_vGjS.js";import"./index-oTuioY05.js";import"./index-C9W3DvUX.js";import"./ssrBoot-MxcGxgJb.js";const z={class:"text-center mt-4"},H={__name:"index",setup(M){const c=x(),m=k(),l=s([]),r=s(1),d=s(1),g=s(10),p=async()=>{try{const e=await c.fetchAllNotifications(r.value,g.value);console.log("API Response:",e),l.value=e.notifications||[],d.value=e.last_page||1,console.log("Notifications:",l.value)}catch(e){console.error("Error fetching notifications:",e)}},h=e=>{e.read||c.markAsRead(e.id),e.notification_route&&(e.application_id?m.push({name:e.notification_route,params:{id:e.application_id}}):m.push({name:e.notification_route}))};return N(()=>{p()}),(e,f)=>(i(),C(y,null,{default:a(()=>[o(L,null,{default:a(()=>[n("All Notifications")]),_:1}),o(F,null,{default:a(()=>[o(P,null,{default:a(()=>[(i(!0),_(V,null,b(l.value,t=>(i(),_(V,{key:t.id},[o(B,{class:A({"unread-notification":!t.read}),onClick:U=>h(t)},{prepend:a(()=>[o(R,{color:t.color,icon:t.icon,variant:"tonal"},null,8,["color","icon"])]),append:a(()=>[o(w,null,{default:a(()=>[v("small",null,u(t.time),1)]),_:2},1024)]),default:a(()=>[o(S,null,{default:a(()=>[n(u(t.title),1)]),_:2},1024),o(T,null,{default:a(()=>[n(u(t.message),1)]),_:2},1024)]),_:2},1032,["class","onClick"]),o(D)],64))),128))]),_:1}),v("div",z,[o(E,{modelValue:r.value,"onUpdate:modelValue":[f[0]||(f[0]=t=>r.value=t),p],length:d.value},null,8,["modelValue","length"])])]),_:1})]),_:1}))}},se=I(H,[["__scopeId","data-v-fb4b1413"]]);export{se as default};
