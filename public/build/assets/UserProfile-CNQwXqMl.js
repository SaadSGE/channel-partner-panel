import{P as h}from"./vue3-perfect-scrollbar.esm-DTP5ceSp.js";import{k as x,ab as n,n as t,o as r,f as l,e as a,b as o,a1 as u,v as i,x as c,c as m,F as f,i as P,ac as I,s as L,d as B,a7 as w,z as N}from"./main-CTbrSevp.js";import{u as z}from"./useAbility-DfsnnlBb.js";import{V as p}from"./VAvatar-DBW7-bfY.js";import{V as _}from"./VImg-B92ntwLo.js";import{V as A}from"./VMenu-DN6OOuIy.js";import{V as C,a as v,b as y,d as D}from"./VList-DvA9uE5Z.js";import{V as S}from"./VListItemAction-DLfPR0i8.js";import{V as d}from"./VBadge-CE2xe63A.js";import{V as T}from"./VDivider-L9Mlvl37.js";import"./index-BRgyovDe.js";import"./VOverlay-B7R2_D3J.js";import"./easing-CjukEv2V.js";import"./lazy-DNzdQdOs.js";import"./scopeId-x2Y0lfX8.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-DZuNSGQw.js";import"./index-V586HTca.js";import"./ssrBoot-CcnxGcn-.js";const F={class:"px-4 py-2"},se={__name:"UserProfile",setup(R){const V=x(),b=z(),e=n("userData"),k=async()=>{n("accessToken").value=null,e.value=null,await V.push("/login"),n("userAbilityRules").value=null,b.update([])},g=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Profile",to:{name:"profile"}}];return(E,M)=>t(e)?(r(),l(d,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(p,{size:"38",class:"cursor-pointer",color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(r(),l(_,{key:0,src:t(e).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"tabler-user"})),o(A,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(C,null,{default:a(()=>[o(v,null,{prepend:a(()=>[o(S,{start:""},{default:a(()=>[o(d,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(p,{color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(r(),l(_,{key:0,src:t(e).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:a(()=>[o(y,{class:"font-weight-medium"},{default:a(()=>[i(c(t(e).fullName||t(e).username),1)]),_:1}),o(D,null,{default:a(()=>[i(c(t(e).main_role),1)]),_:1})]),_:1}),o(t(h),{options:{wheelPropagation:!1}},{default:a(()=>[(r(),m(f,null,P(g,s=>(r(),m(f,{key:s.title},[s.type==="navItem"?(r(),l(v,{key:0,to:s.to},I({prepend:a(()=>[o(u,{icon:s.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(y,null,{default:a(()=>[i(c(s.title),1)]),_:2},1024)]),_:2},[s.badgeProps?{name:"append",fn:a(()=>[o(d,L({rounded:"sm",class:"me-3"},s.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(r(),l(T,{key:1,class:"my-2"}))],64))),64)),B("div",F,[o(w,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:k},{default:a(()=>[i(" Logout ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):N("",!0)}};export{se as default};
