import{r as n,e as L,c as T}from"./validators-CYQma1M4.js";import{k as $,r as f,H as I,o as N,f as M,e as t,b as a,a6 as G,n as s,c as H,F as K,z as W,a7 as U,v as q,d as j,aB as g}from"./main-D18SjM8o.js";import{_ as z}from"./AppAutocomplete-CJktx0hb.js";import{_ as J}from"./AppSelect-CzYaMipO.js";import{_ as Y}from"./AppTextField-mdhOduhn.js";import{_ as Q}from"./AppDrawerHeaderSection-rlzRjcmf.js";import{u as X}from"./auth-DCVfD_z-.js";import{u as Z}from"./rolePermission-x9lhIBCi.js";import{S}from"./sweetalert2-z6gKu1nJ.js";import{P as h}from"./vue3-perfect-scrollbar.esm-D4ZdsLl8.js";import{V as _}from"./VNavigationDrawer-cToOkK_J.js";import{V as x}from"./VDivider-CSUkZSbR.js";import{V as ee}from"./VCard--LWezGZw.js";import{V as le}from"./VCardText-DZIDicOU.js";import{V as ae}from"./VForm-CCuroRNG.js";import{V as oe,a as i}from"./VRow--BqiF0XQ.js";import{V as D}from"./VFileInput-C6j6ttHd.js";import{V as p}from"./VCheckbox-Ca6DLXm-.js";import"./helpers-6_Vkkyle.js";import"./form-Dildnxco.js";import"./VSelect-Bqari_qV.js";import"./VTextField-C8tSfTKw.js";/* empty css                   */import"./VCounter-DjLiRu6x.js";import"./index-WMrVuzwm.js";import"./index-DFlKVI-p.js";import"./VField-DWPZ7GDO.js";import"./easing-CjukEv2V.js";import"./VInput-C1-GBOSd.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-CTIFt7-l.js";import"./ssrBoot-fEReWUYU.js";import"./VAvatar-W9lvtYXi.js";import"./VImg-CHKlhm0_.js";import"./dialog-transition-Cw8hunBr.js";import"./VMenu-BMd_ZTs_.js";import"./VOverlay-BYzqhk2P.js";import"./lazy-B1UVp5Fh.js";import"./scopeId-BuTrgiUd.js";import"./VCheckboxBtn-BwmbKQER.js";import"./VSelectionControl-qM0g-Obg.js";import"./VChip-Hc-TXFBc.js";import"./VSlideGroup-Dgpu8o_8.js";import"./filter-BPN1mtWh.js";import"./VSpacer-C1sLtjzV.js";/* empty css              */import"./api-Ct7LI-nj.js";import"./index-B3bPRkoL.js";const re=j("label",null,"Country Recruit For",-1),xe={__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(B,{emit:F}){const k=B,v=F,b=Z(),A=X();$();const w=f(!1),V=f(),C=f([]),o=f({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",mobileNumber:"",whatsappNumber:"",companyName:"",website:"",address:"",city:"",postCode:"",country:"",role:"",status:"",avatar:"",createForm:"admin",agreement:null,commission_structure:null}),d=f({recruitCountries:[]});I(async()=>{await b.getAllRoles(),C.value=b.roles});const y=()=>{v("update:isDrawerOpen",!1),g(()=>{var r,e;(r=V.value)==null||r.reset(),(e=V.value)==null||e.resetValidation()})},P=r=>r?r.toLowerCase():"",R=async()=>{var r;(r=V.value)==null||r.validate().then(async({valid:e})=>{if(e)try{const m=new FormData;for(const u in o.value)o.value[u]&&m.append(u,o.value[u]);for(const u of d.value.recruitCountries)m.append("recruitCountries[]",u);o.value.agreement&&(m.append("document_type","agreement"),m.append("agreement",o.value.agreement[0])),o.value.commission_structure&&(m.append("document_type","commission_structure"),m.append("commission_structure",o.value.commission_structure[0])),await A.register(m),S.fire({icon:"success",title:"Registration Successful",text:"You have been registered successfully!",confirmButtonText:"OK"}),v("userData",m),v("update:isDrawerOpen",!1),g(()=>{var u,c;(u=V.value)==null||u.reset(),(c=V.value)==null||c.resetValidation(),d.value.recruitCountries=[]})}catch(m){S.fire({icon:"error",title:"Registration Failed",text:m,confirmButtonText:"OK"})}})},E=r=>{v("update:isDrawerOpen",r)};return(r,e)=>{const m=Q,u=Y,c=J,O=z;return N(),M(_,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":k.isDrawerOpen,"onUpdate:modelValue":E},{default:t(()=>[a(m,{title:"Add New User",onCancel:y}),a(x),a(s(h),{options:{wheelPropagation:!1}},{default:t(()=>[a(ee,{flat:""},{default:t(()=>[a(le,null,{default:t(()=>[a(ae,{ref_key:"refForm",ref:V,modelValue:w.value,"onUpdate:modelValue":e[23]||(e[23]=l=>w.value=l),onSubmit:G(R,["prevent"])},{default:t(()=>[a(oe,null,{default:t(()=>[a(i,{cols:"12",md:"6"},{default:t(()=>[a(u,{modelValue:o.value.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.firstName=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"First Name",placeholder:"John"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12",md:"6"},{default:t(()=>[a(u,{modelValue:o.value.lastName,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.lastName=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"Last Name",placeholder:"Doe"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.email,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.email=l),rules:["requiredValidator"in r?r.requiredValidator:s(n),"emailValidator"in r?r.emailValidator:s(L)],label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12",md:"6"},{default:t(()=>[a(u,{modelValue:o.value.password,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.password=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"Password",type:"password",placeholder:"Enter your password"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12",md:"6"},{default:t(()=>[a(u,{modelValue:o.value.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.confirmPassword=l),rules:["requiredValidator"in r?r.requiredValidator:s(n),("confirmedValidator"in r?r.confirmedValidator:s(T))(o.value.confirmPassword,o.value.password)],label:"Confirm Password",type:"password",placeholder:"Confirm your password"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.mobileNumber,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.mobileNumber=l),label:"Mobile Number (optional)",type:"tel",placeholder:"+1-541-754-3010"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.whatsappNumber,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.whatsappNumber=l),label:"WhatsApp Number (optional)",type:"tel",placeholder:"+1-541-754-3010"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(c,{modelValue:o.value.role,"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.role=l),label:"Select Role",placeholder:"Select Role",rules:["requiredValidator"in r?r.requiredValidator:s(n)],items:C.value,"item-title":l=>l.role,"item-value":l=>l.role},null,8,["modelValue","rules","items","item-title","item-value"])]),_:1}),P(o.value.role)==="channel partner"?(N(),H(K,{key:0},[a(i,{cols:"12"},{default:t(()=>[a(D,{chips:"",modelValue:o.value.agreement,"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.agreement=l),label:"Upload Agreement"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(D,{chips:"",modelValue:o.value.commission_structure,"onUpdate:modelValue":e[9]||(e[9]=l=>o.value.commission_structure=l),label:"Upload Commission Structure"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.companyName,"onUpdate:modelValue":e[10]||(e[10]=l=>o.value.companyName=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"Company Name",placeholder:"Enter company name"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.website,"onUpdate:modelValue":e[11]||(e[11]=l=>o.value.website=l),label:"Website",placeholder:"Enter website URL"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.address,"onUpdate:modelValue":e[12]||(e[12]=l=>o.value.address=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"Address",placeholder:"Enter address"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.city,"onUpdate:modelValue":e[13]||(e[13]=l=>o.value.city=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"City",placeholder:"Enter city"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(u,{modelValue:o.value.postCode,"onUpdate:modelValue":e[14]||(e[14]=l=>o.value.postCode=l),rules:["requiredValidator"in r?r.requiredValidator:s(n)],label:"Post Code",placeholder:"Enter post code"},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[a(O,{modelValue:o.value.country,"onUpdate:modelValue":e[15]||(e[15]=l=>o.value.country=l),label:"Select Country",placeholder:"Select Country",rules:["requiredValidator"in r?r.requiredValidator:s(n)],items:["India","Bangladesh","Nigeria","Nepal","Bhutan","Ghana","Sri Lanka"]},null,8,["modelValue","rules"])]),_:1}),a(i,{cols:"12"},{default:t(()=>[re,a(p,{value:"Nigeria",label:"Nigeria",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[16]||(e[16]=l=>d.value.recruitCountries=l)},null,8,["modelValue"]),a(p,{value:"India",label:"India",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[17]||(e[17]=l=>d.value.recruitCountries=l)},null,8,["modelValue"]),a(p,{value:"Bangladesh",label:"Bangladesh",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[18]||(e[18]=l=>d.value.recruitCountries=l)},null,8,["modelValue"]),a(p,{value:"Nepal",label:"Nepal",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[19]||(e[19]=l=>d.value.recruitCountries=l)},null,8,["modelValue"]),a(p,{value:"Bhutan",label:"Bhutan",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[20]||(e[20]=l=>d.value.recruitCountries=l)},null,8,["modelValue"]),a(p,{value:"Ghana",label:"Ghana",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[21]||(e[21]=l=>d.value.recruitCountries=l)},null,8,["modelValue"]),a(p,{value:"Sri Lanka",label:"Sri Lanka",modelValue:d.value.recruitCountries,"onUpdate:modelValue":e[22]||(e[22]=l=>d.value.recruitCountries=l)},null,8,["modelValue"])]),_:1})],64)):W("",!0),a(i,{cols:"12"},{default:t(()=>[a(U,{type:"submit",class:"me-3"},{default:t(()=>[q(" Submit ")]),_:1}),a(U,{type:"reset",variant:"tonal",color:"error",onClick:y},{default:t(()=>[q(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{xe as default};
