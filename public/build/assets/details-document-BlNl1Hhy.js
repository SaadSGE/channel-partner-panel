import{u as N}from"./fileStore-BDPCUeUv.js";import{v as P,p as T,a as $,b as j}from"./filepond-plugin-image-preview.esm-BCjPEVsy.js";import{b as I,V as g}from"./VCard-D1LN39aq.js";import{V as h}from"./VCardText-Cclq98po.js";import{M,r as i,o as t,f as s,e as a,b as o,v as b,n as A,c as x,i as E,d as f,a1 as u,z as p,x as k,a7 as w,F as L}from"./main-D1prPXqX.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./api-BpUO-yym.js";import"./index-B3bPRkoL.js";import"./VAvatar-DZnZnC1i.js";import"./VImg-B3z1M8B7.js";import"./index-DqqQ86fa.js";const q=["href"],G={key:0,class:"error-message"},H={class:"d-flex justify-end mt-4"},J=M({__name:"details-document",props:{existingDocuments:{type:Array,default:()=>[]}},emits:["update:uploadDocumentShow","update:studentFormShow"],setup(V,{emit:F}){const D=P(j,$,T),C=V,m=F,r=i(null),_=i(C.existingDocuments);console.log(_.value);const v=i([]),y=N();i([]);const S=()=>{v.value.length===0?r.value="Please upload at least one file.":(r.value=null,m("update:uploadDocumentShow",!1),m("update:studentFormShow",!0))},B={process:(n,l,e,c,z,K,O)=>{y.uploadFile(n,l).then(d=>c(d)).catch(d=>z(d))},revert:(n,l,e)=>{y.removeFile(n),l()}};return(n,l)=>(t(),s(g,{class:"mx-auto"},{default:a(()=>[o(I,null,{default:a(()=>[b("Please upload only color scan copy files")]),_:1}),o(h,null,{default:a(()=>[o(A(D),{ref:"pond",name:"test","allow-multiple":!0,allowRemove:"true",files:v.value,server:B,"label-idle":"Drop files here or <span class='filepond--label-action'>Browse</span>"},null,8,["files"]),(t(!0),x(L,null,E(_.value,(e,c)=>(t(),s(g,{key:c,class:"mb-2"},{default:a(()=>[o(h,{class:"d-flex justify-space-between align-center"},{default:a(()=>[f("div",null,[e.file_type=="pdf"?(t(),s(u,{key:0,size:"28",icon:"tabler-file-type-pdf"})):p("",!0),e.file_type=="image"?(t(),s(u,{key:1,size:"28",icon:"tabler-file-type-png"})):p("",!0),e.file_type=="document"?(t(),s(u,{key:2,size:"26",color:"red",icon:"tabler-file-type-doc"})):p("",!0),f("a",{href:e.path,target:"_blank"},k(e.file_name),9,q)]),o(w,{icon:"",href:e.path,target:"_blank",download:""},{default:a(()=>[o(u,{size:"24",icon:"tabler-download"})]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128)),r.value?(t(),x("div",G,k(r.value),1)):p("",!0),f("div",H,[o(w,{color:"primary",onClick:l[0]||(l[0]=e=>S())},{default:a(()=>[b("Next")]),_:1})])]),_:1})]),_:1}))}}),se=R(J,[["__scopeId","data-v-56e8157c"]]);export{se as default};
