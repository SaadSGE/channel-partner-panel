import{_ as C}from"./AppTextField-BNjYD8Ur.js";import{_ as F}from"./AppAutocomplete-DuP7pBcV.js";import{r as a,H as O,a as z,o as B,f as L,e as v,d as s,b as i,a1 as M,a7 as _,v as T,a6 as I}from"./main-DWEafIo9.js";import{c as S}from"./commonFunction-CMe9f_WJ.js";import{V as $}from"./VNavigationDrawer-Eiw2mjgX.js";import{V as q}from"./VDivider-BCCLwyTY.js";import{V as j}from"./VForm-DtwnFsto.js";import"./form-DRyybzAA.js";import"./VTextField-DbRery7o.js";/* empty css                   */import"./VCounter-BzC7R5DK.js";import"./index-CH7xLVBD.js";import"./index-CDcwydNq.js";import"./VField-8PGBwf2c.js";import"./easing-CjukEv2V.js";import"./VInput-Zk18f64M.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-Ba1PMWWX.js";import"./VList-Cl5MfpPB.js";import"./ssrBoot-CfySLw4A.js";import"./VAvatar-CfvV6it2.js";import"./VImg-usgyZMys.js";import"./dialog-transition-B-nNFfGr.js";import"./VMenu-BHxDyy9t.js";import"./VOverlay-D8b1J3iv.js";import"./lazy-D-n9MIs4.js";import"./scopeId-B3-MlbfF.js";import"./VCheckboxBtn-CZwbZbod.js";import"./VSelectionControl-Cz52E1Ko.js";import"./VChip-C44ZeR7y.js";import"./VSlideGroup-CP0ZRKPG.js";import"./filter-7zfjGU5s.js";import"./api-rGAL2TG5.js";import"./index-B3bPRkoL.js";const H={class:"customizer-heading d-flex align-center justify-space-between"},R=s("div",null,[s("h6",{class:"text-h6"},"Add New University")],-1),E={class:"d-flex align-center gap-1"},G={class:"mb-2"},J=s("label",{class:"mb-2",style:{"font-size":"0.9rem"}},"University Logo",-1),K="/api/university-logo-upload",Ae={__name:"add",props:{isNavDrawerOpen:Boolean},emits:["update:isNavDrawerOpen"],setup(U,{emit:h}){a([]);const o=S(),r=a(""),n=a(""),u=a(""),m=a(),c=a(),f=a([]),N=a([]),x=a([]),d=a(!1),V=U,y=a(null),g=h;O(async()=>{o.countries.length===0&&await o.getCountries(),o.courses.length===0&&await o.getCourses(),o.intakes.length===0&&await o.getIntakes(),o.universities.length===0&&await o.getUniversities(),o.courseDetails.length===0&&await o.getCourseDetails(),f.value=o.countries,N.value=o.intakes,x.value=o.universities});const p=l=>!!l||"Required field",w=async()=>{y.value.validate().then(l=>{if(l.valid)D();else return})},D=async()=>{const l={countryId:r.value,name:n.value,address:u.value,logo:m.value[0].upload.data};try{d.value=!0,await o.addUniversity(l),d.value=!1,n.value="",u.value="",m.value=null,r.value="",g("update:isNavDrawerOpen",!1)}catch(e){console.error("Failed to add university:",e)}};return(l,e)=>{const k=F,b=C,A=z("VueFileAgent");return B(),L($,{modelValue:V.isNavDrawerOpen,"onUpdate:modelValue":e[6]||(e[6]=t=>V.isNavDrawerOpen=t),temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:v(()=>[s("div",H,[R,s("div",E,[i(_,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:e[0]||(e[0]=t=>g("update:isNavDrawerOpen",!1))},{default:v(()=>[i(M,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),i(q),i(j,{ref_key:"refForm",ref:y,onSubmit:I(w,["prevent"]),class:"form-padding mt-4"},{default:v(()=>[i(k,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),items:f.value,"item-title":t=>t.name,"item-value":t=>t.id,label:"Country",placeholder:"Select Country",rules:[p],class:"mb-2"},null,8,["modelValue","items","item-title","item-value","rules"]),i(b,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),label:"University Name",rules:[p],class:"mb-2"},null,8,["modelValue","rules"]),i(b,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value=t),label:"University Address",rules:[p],class:"mb-2"},null,8,["modelValue","rules"]),s("div",G,[J,i(A,{multiple:!1,uploadUrl:K,helpText:"Choose university Logo",deletable:!0,modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t),rawModelValue:c.value,"onUpdate:rawModelValue":e[5]||(e[5]=t=>c.value=t),rules:[p]},null,8,["modelValue","rawModelValue","rules"])]),i(_,{loading:d.value,disabled:d.value,color:"primary",onClick:w,class:"mt-4",block:""},{default:v(()=>[T("Add")]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1},8,["modelValue"])}}};export{Ae as default};
