import{_ as R}from"./AppTextField-BPc7XrET.js";import{r as c,d8 as T,k as C,a as F,o as h,c as P,b as e,e as t,d as a,n as s,I as _,x as g,a6 as A,f as M,v as V,z as N,a7 as j,a1 as E,F as L}from"./main-DliaIfAl.js";import{u as D}from"./auth-DsFqyukM.js";import{u as d}from"./useGenerateImageVariant-DIqMSvYR.js";import{a as z,b as K}from"./auth-v2-forgot-password-illustration-light-SXBFhqP4.js";import{a as O,b as q}from"./misc-mask-light-Ha4lQOdV.js";import{V as G}from"./VNodeRenderer-Bx4QjGz_.js";import{S as w}from"./sweetalert2-z6gKu1nJ.js";import{a as r,V as x}from"./VRow-BvCtndEa.js";import{V as H}from"./VImg-MIti5M4t.js";import{V as U}from"./VCard-BsMAJOJE.js";import{V as v}from"./VCardText-COmIcOQw.js";import{V as $}from"./VForm-DE_bvd5Y.js";import{V as J}from"./VAlert-BvPctU7_.js";import"./form-DyBPD-OY.js";import"./VTextField-BJkxyjt7.js";/* empty css                   */import"./VCounter-Bqz9eiQd.js";import"./index-B6_MyPcT.js";import"./index-B2kEqdsA.js";import"./VField-G7QzqyaG.js";import"./easing-CjukEv2V.js";import"./VInput-DiRMaw8N.js";import"./forwardRefs-C-GTDzx5.js";import"./helpers-LqpRm3iJ.js";import"./api-Bz26308e.js";import"./index-Dz1rBMAR.js";/* empty css              */import"./VAvatar-DjbtaCRp.js";const Q="/build/assets/login-image-BqaMlRfH.png",W={class:"auth-logo d-flex align-center gap-x-3"},X={class:"auth-title"},Y={class:"position-relative bg-background w-100 me-0"},Z={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"150px"}},ee=["src"],te=a("h4",{class:"text-h4 mb-1"}," Forgot Password? ðŸ”’ ",-1),ae=a("p",{class:"mb-0"}," Enter your email and we'll send you a temporary password ",-1),se=a("span",null,"Back to login",-1),Me={__name:"forgot-password",setup(oe){const n=c(""),p=D(),{errors:f}=T(p),m=c(!1),i=c(""),b=C();d(K,z);const y=d(q,O),k=d(Q),S=async()=>{var u,l;m.value=!0,i.value="";try{const o=await p.resetPassword(n.value);i.value=o.message,w.fire({icon:"success",title:"Password Reset Successful",text:"A new password has been sent to your email.",confirmButtonText:"OK"}).then(()=>{b.push({name:"login"})}),n.value=""}catch(o){w.fire({icon:"error",title:"Error",text:((l=(u=o.response)==null?void 0:u.data)==null?void 0:l.message)||"An error occurred while resetting the password.",confirmButtonText:"OK"})}finally{m.value=!1}};return(u,l)=>{const o=F("RouterLink"),B=R;return h(),P(L,null,[e(o,{to:"/"},{default:t(()=>[a("div",W,[e(s(G),{nodes:s(_).app.logo},null,8,["nodes"]),a("h1",X,g(s(_).app.title),1)])]),_:1}),e(x,{class:"auth-wrapper bg-surface","no-gutters":""},{default:t(()=>[e(r,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[a("div",Y,[a("div",Z,[e(H,{"max-width":"800",src:s(k),class:"auth-illustration mt-16 mb-2 flip-in-rtl"},null,8,["src"])]),a("img",{class:"auth-footer-mask flip-in-rtl",src:s(y),alt:"auth-footer-mask",height:"280",width:"100"},null,8,ee)])]),_:1}),e(r,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[e(U,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:t(()=>[e(v,null,{default:t(()=>[te,ae]),_:1}),e(v,null,{default:t(()=>[e($,{onSubmit:A(S,["prevent"])},{default:t(()=>[e(x,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(B,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=I=>n.value=I),autofocus:"",label:"Email",placeholder:"johndoe@email.com",type:"email","error-messages":s(f).email},null,8,["modelValue","error-messages"])]),_:1}),i.value?(h(),M(r,{key:0,cols:"12"},{default:t(()=>[e(J,{type:s(f).email?"error":"success",class:"mb-3"},{default:t(()=>[V(g(i.value),1)]),_:1},8,["type"])]),_:1})):N("",!0),e(r,{cols:"12"},{default:t(()=>[e(j,{block:"",type:"submit",loading:m.value},{default:t(()=>[V(" Send Temporary Password ")]),_:1},8,["loading"])]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(o,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:t(()=>[e(E,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),se]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Me as default};
