import{b2 as n}from"./main-CSiErTrC.js";import{$ as t}from"./api-DWFqE0EF.js";const a=n({id:"notification",state:()=>({notifications:[],errors:[]}),actions:{async fetchNotifications(){try{const r=await t("/notifications",{method:"GET",headers:{"Content-Type":"application/json"}});this.notifications=r.data}catch(r){throw console.error("Error fetching notifications:",r),this.errors=r.response?r.response.data.data:["An unexpected error occurred"],r}},async markAsRead(r){try{await t(`/notifications/${r}/mark-as-read`,{method:"POST",headers:{"Content-Type":"application/json"}});const o=this.notifications.find(e=>e.id===r);o&&(o.read=!0)}catch(o){throw console.error("Error marking notification as read:",o),this.errors=o.response?o.response.data.errors:["An unexpected error occurred"],o}},async fetchAllNotifications(r,o){try{return await t(`/notifications/all?page=${r}&perPage=${o}`,{method:"GET",headers:{"Content-Type":"application/json"}})}catch(e){throw console.error("Error fetching all notifications:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"],e}}}});export{a as u};
