import{_ as L}from"./AppSelect-DUSpzFBi.js";import{_ as O}from"./AppTextarea-hexXRf6S.js";import{_ as $}from"./AppTextField-DFkCpbYz.js";import{r as s,w as z,o as B,f as A,e as o,d as i,b as a,a2 as y,a9 as p,v as b,J as j,a8 as I}from"./main-C3zi_SKQ.js";import{c as q}from"./commonFunction-DaV-cpx8.js";import{V as H}from"./VNavigationDrawer-DvmlspX8.js";import{V as P}from"./VDivider-Byc_tc4C.js";import{V as J}from"./VInput-DkaOtTDM.js";import{V as M}from"./VTextField-Dognc3Fg.js";import{V as R}from"./VDialog-3Jy0gPfO.js";import{V as W,b as E,c as G}from"./VCard-CiUXVH6b.js";import{V as K}from"./VCardText-haI9Z-IX.js";import{V as Q}from"./VColorPicker-CkR9idE-.js";import{V as X}from"./VSpacer-ZOaaLL5l.js";import{V as w}from"./VCheckbox-D-DyNUv_.js";import{V as Y}from"./VForm-BglYL0G4.js";import"./VSelect-C09sQe_X.js";import"./forwardRefs-D3j0TLhE.js";import"./VList-Bmx0u8vq.js";import"./index-DPXcXuYg.js";import"./ssrBoot-d-rE-ebl.js";import"./index-C8YGC3Io.js";import"./VAvatar-DNScsPhF.js";import"./VImg-CXAH5jII.js";import"./dialog-transition-CxaPI8Wz.js";import"./scopeId-CNDVdJ3R.js";import"./VMenu-mUALx6PX.js";import"./VCheckboxBtn-ChwCrhEn.js";import"./VChip-Drmygec1.js";/* empty css              */const Z={class:"customizer-heading d-flex align-center justify-space-between pa-6"},ee=i("div",null,[i("h6",{class:"text-h6"},"Update Lead Status")],-1),ae={class:"d-flex align-center gap-1"},le={class:"mb-4"},te={class:"d-flex align-center gap-2"},$e={__name:"edit",props:{isNavDrawerOpen:Boolean,editedItem:Object},emits:["update:isNavDrawerOpen"],setup(N,{emit:S}){s([]);const U=q(),d=s(""),u=s(""),r=s(""),n=s(null),v=s(!1),c=s(!1),f=s(!1),T=[{title:"Hot",value:"hot"},{title:"Warm",value:"warm"},{title:"Cold",value:"cold"}],m=s(!1),_=N,C=s(null),g=s(null),k=S;z(()=>_.editedItem,t=>{t&&(console.log("newValue",t),d.value=t.name,u.value=t.description,r.value=t.color_code,n.value=t.health_type,C.value=t.id,c.value=t.convert_to_student==1,f.value=t.dead_lead==1)},{immediate:!0});const V=t=>!!t||"Required field",D=async()=>{if(!await g.value.validate())return;const e={name:d.value,description:u.value,color_code:r.value,health_type:n.value,convert_to_student:c.value,dead_lead:f.value};try{v.value=!0,await U.updateLeadStatus(C.value,e),v.value=!1,d.value="",u.value="",r.value="",n.value=null,k("update:isNavDrawerOpen",!1)}catch(x){console.error("Failed to update lead status:",x)}};return(t,e)=>{const x=$,h=O,F=L;return B(),A(H,{modelValue:_.isNavDrawerOpen,"onUpdate:modelValue":e[12]||(e[12]=l=>_.isNavDrawerOpen=l),temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:o(()=>[i("div",Z,[ee,i("div",ae,[a(p,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:e[0]||(e[0]=l=>k("update:isNavDrawerOpen",!1))},{default:o(()=>[a(y,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),a(P),a(Y,{ref_key:"refForm",ref:g,onSubmit:I(D,["prevent"]),class:"pa-6"},{default:o(()=>[a(x,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),label:"Status Name",rules:[V],class:"mb-4"},null,8,["modelValue","rules"]),a(h,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l),label:"Description",rules:[V],class:"mb-4"},null,8,["modelValue","rules"]),i("div",le,[a(J,{class:"mb-2"},{default:o(()=>[b("Color Code")]),_:1}),i("div",te,[a(M,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),rules:[V],readonly:"",style:j({backgroundColor:r.value})},null,8,["modelValue","rules","style"]),a(p,{icon:"",variant:"tonal",onClick:e[4]||(e[4]=l=>m.value=!0)},{default:o(()=>[a(y,{icon:"tabler-palette"})]),_:1})])]),a(R,{modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=l=>m.value=l),width:"300"},{default:o(()=>[a(W,null,{default:o(()=>[a(E,{class:"d-flex justify-space-between align-center pa-4"},{default:o(()=>[b(" Select Color "),a(p,{icon:"",variant:"text",onClick:e[5]||(e[5]=l=>m.value=!1)},{default:o(()=>[a(y,{icon:"tabler-x"})]),_:1})]),_:1}),a(K,null,{default:o(()=>[a(Q,{modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=l=>r.value=l),mode:"hex","hide-inputs":""},null,8,["modelValue"])]),_:1}),a(G,null,{default:o(()=>[a(X),a(p,{color:"primary",onClick:e[7]||(e[7]=l=>m.value=!1)},{default:o(()=>[b(" Done ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(F,{modelValue:n.value,"onUpdate:modelValue":e[9]||(e[9]=l=>n.value=l),items:T,label:"Health Type",rules:[V],class:"mb-4"},null,8,["modelValue","rules"]),a(w,{modelValue:c.value,"onUpdate:modelValue":e[10]||(e[10]=l=>c.value=l),label:"Success Lead",class:"mb-2",density:"comfortable"},null,8,["modelValue"]),a(w,{modelValue:f.value,"onUpdate:modelValue":e[11]||(e[11]=l=>f.value=l),label:"Dead Lead",class:"mb-4",density:"comfortable"},null,8,["modelValue"]),a(p,{loading:v.value,disabled:v.value,color:"primary",onClick:D,block:""},{default:o(()=>[b(" Update ")]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1},8,["modelValue"])}}};export{$e as default};
