import{r as s}from"./validators-DpYrMFzk.js";import{k as z,r as l,a5 as Q,H as G,a as j,o as O,c as J,b as o,e as i,z as K,n as u,a6 as W,v as U,a7 as X,d as f}from"./main-1mV8A3Ok.js";import{_ as Y}from"./TablePagination-BAuLNU8y.js";import{_ as Z}from"./AppSelect-CBj18RKD.js";import{_ as x}from"./AppTextField-B6qaM17A.js";import{_ as ee}from"./AppAutocomplete-D7ikexWo.js";import{_ as te}from"./AppCardActions-CI9Ul4RV.js";import{c as oe}from"./commonFunction-BAVgyaoK.js";import{u as le}from"./vue-quill.bubble-CVcte_tz.js";import{V as ae}from"./VCard-Quhh9XGX.js";import{V as ie}from"./VForm-BWQfR_Be.js";import{V as re,a as n}from"./VRow-DPIoBZFC.js";import{V as D}from"./form-DD45LEPy.js";import{V as ne}from"./VCardText-DBYlaQFO.js";import{V as ue}from"./VDataTableServer-lVUzVSPk.js";import"./helpers-DK5QwNv0.js";import"./VDivider-BynfZOFp.js";import"./VPagination-Du7AMigc.js";import"./VSelect-CTcRpsXh.js";import"./VTextField-DZMrnS7D.js";/* empty css                   */import"./VCounter-BqhfE6c3.js";import"./index-Dr4Jpfvu.js";import"./index-D5HNSvtj.js";import"./VField-DrOa7Jrs.js";import"./easing-CjukEv2V.js";import"./VInput-Cc3qPpf8.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-4bYWa8Xg.js";import"./ssrBoot-BSr0_Qc6.js";import"./VAvatar-CS2PSZbd.js";import"./VImg-B0OvyP-a.js";import"./dialog-transition-C3AmnP1-.js";import"./VMenu-C6RKladz.js";import"./VOverlay-Dw-bxEan.js";import"./lazy-B94C784v.js";import"./scopeId-B6VPZtEP.js";import"./VCheckboxBtn-BuqUvF2m.js";import"./VSelectionControl-gOd1ayQx.js";import"./VChip-BGAzZtGp.js";import"./VSlideGroup-D7xdXnSf.js";import"./filter-CA-4VRNq.js";import"./api-BuB0jJ0_.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VDataTable-CWF9oBIS.js";import"./VTable-CyIy3e88.js";const se={key:0},me={class:"d-flex justify-space-between flex-wrap gap-6"},de={class:"d-flex flex-row gap-4 align-center flex-wrap"},pe=["innerHTML"],ce=["innerHTML"],ut={__name:"index",setup(ve){z();const r=oe(),V=le(),y=l("");l("");const m=l(""),g=l(""),d=l(""),p=l(""),q=l(""),k=l("");l();const F=l(),R=l(),L=["Graduate","Post Graduate"],h=l(),E=l();l({courseName:"",intake:"",tuitionFee:"",courseDuration:"",courseLabel:"",location:"",universityLogo:"",academicRequirement:"",englishRequirement:""});const S=l(null),H=l(!0);l(!1),Q(()=>r.getFilteredCourseDetails(countryToApply.value,p.value,m.value,d.value));const b=l(""),C=l(""),A=l(),T=l();G(async()=>{r.countries.length===0&&await r.getCountries(),r.courses.length===0&&await r.getCourses(),r.intakes.length===0&&await r.getIntakes(),r.universities.length===0&&await r.getUniversities(),r.courseDetails.length===0&&await r.getCourseDetails(),F.value=r.countries,E.value=r.courses,R.value=r.intakes,h.value=r.universities;const a=await V.fetchRecord();A.value=a.data,T.value=a.total});const I=async()=>{if(await S.value.validate())try{const t={countryId:y.value,intakeId:m.value,courseType:g.value,universityId:d.value,course:p.value,tutionFee:q.value,courseDuration:k.value,academicRequirement:b.value,englishRequirement:C.value};await V.submitApplication(t)&&(console.log(V.successMessage),N())}catch(t){console.log(t),console.error("Form submission error:",V.errors)}},N=()=>{y.value="",m.value="",g.value="",d.value="",p.value="",q.value="",k.value="",b.value.root.innerHTML="",C.value.root.innerHTML=""},P=[{title:"Country",key:"country.name"},{title:"Intake",key:"intake.name"},{title:"University",key:"university.name"},{title:"Course Type",key:"course.type"},{title:"Course Name",key:"course.name"},{title:"Tution Fee",key:"tuition_fee"},{title:"Course Duration",key:"course_duration"},{title:"Academic Requirement",key:"academic_requirement"},{title:"English Requirement",key:"english_requirement"},{title:"Actions",key:"actions",sortable:!1}],c=l(10),_=l(1);return l(),l(),(a,t)=>{const v=ee,w=x,M=j("QuillEditor"),$=Z,B=Y;return H.value?(O(),J("div",se,[o(te,{title:"Add Record","action-collapsed":"",visible:"false",collapsed:"true"},{default:i(()=>[o(u(ie),{ref_key:"refForm",ref:S,onSubmit:W(()=>{},["prevent"]),class:"form-padding"},{default:i(()=>[o(re,null,{default:i(()=>[o(n,{cols:"12",md:"6"},{default:i(()=>[o(v,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e),items:F.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Country to Apply",placeholder:"Select Country",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","items","item-title","item-value","rules"])]),_:1}),o(n,{cols:"12",md:"6"},{default:i(()=>[o(v,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),items:R.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Intake",placeholder:"Select Intake",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","items","item-title","item-value","rules"])]),_:1}),o(n,{cols:"12",md:"6"},{default:i(()=>[o(v,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=e=>g.value=e),items:L,label:"Course Type",placeholder:"Select Course Type",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","rules"])]),_:1}),o(n,{cols:"12",md:"6"},{default:i(()=>[o(v,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=e=>d.value=e),items:h.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"University",placeholder:"Select University",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","items","item-title","item-value","rules"])]),_:1}),o(n,{cols:"12",md:"6"},{default:i(()=>[o(w,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),label:"Course Name.",placeholder:"BSC in Machine Learning",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","rules"])]),_:1}),o(n,{cols:"12",md:"6"},{default:i(()=>[o(w,{modelValue:q.value,"onUpdate:modelValue":t[5]||(t[5]=e=>q.value=e),label:"Tuttion Fee (Mention euro or dollar)",placeholder:"1000 euro",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","rules"])]),_:1}),o(n,{cols:"12",md:"6"},{default:i(()=>[o(w,{modelValue:k.value,"onUpdate:modelValue":t[6]||(t[6]=e=>k.value=e),label:"Course Duration (Mention years)",placeholder:"2 years",rules:["requiredValidator"in a?a.requiredValidator:u(s)]},null,8,["modelValue","rules"])]),_:1}),o(n,{cols:"12",md:"12",style:{margin:"auto"}},{default:i(()=>[o(D,{class:"mb-2"},{default:i(()=>[U("Academic Requirement")]),_:1}),o(M,{theme:"snow",content:b.value,"onUpdate:content":t[7]||(t[7]=e=>b.value=e),"content-type":"html"},null,8,["content"])]),_:1}),o(n,{cols:"12",md:"12",style:{margin:"auto"}},{default:i(()=>[o(D,{class:"mb-2"},{default:i(()=>[U("English Requirement")]),_:1}),o(M,{theme:"snow",content:C.value,"onUpdate:content":t[8]||(t[8]=e=>C.value=e),"content-type":"html"},null,8,["content"])]),_:1}),o(n,{cols:"12"},{default:i(()=>[o(X,{onClick:t[9]||(t[9]=e=>I()),type:"submit",color:"primary",block:""},{default:i(()=>[U(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),o(ae,{title:"Course Details",class:"mt-2"},{default:i(()=>[o(ne,null,{default:i(()=>[f("div",me,[f("div",null,[o(w,{modelValue:a.searchQuery,"onUpdate:modelValue":t[10]||(t[10]=e=>a.searchQuery=e),style:{"max-inline-size":"200px","min-inline-size":"200px"},placeholder:"Search Review"},null,8,["modelValue"])]),f("div",de,[o($,{modelValue:c.value,"onUpdate:modelValue":t[11]||(t[11]=e=>c.value=e),items:[10,25,50,100],style:{"inline-size":"6.25rem"}},null,8,["modelValue"])])])]),_:1}),o(ue,{"items-per-page":c.value,"onUpdate:itemsPerPage":t[13]||(t[13]=e=>c.value=e),page:_.value,"onUpdate:page":t[14]||(t[14]=e=>_.value=e),loading:a.isLoading,"items-length":T.value,headers:P,items:A.value,"item-value":"total",class:"text-no-wrap text-sm rounded-0","onUpdate:options":a.updateOptions},{"item.academic_requirement":i(({item:e})=>[f("div",{innerHTML:e.academic_requirement},null,8,pe)]),"item.english_requirement":i(({item:e})=>[f("div",{innerHTML:e.english_requirement},null,8,ce)]),bottom:i(()=>[o(B,{page:_.value,"onUpdate:page":t[12]||(t[12]=e=>_.value=e),"items-per-page":c.value,"total-items":T.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items-length","items","onUpdate:options"])]),_:1})])):K("",!0)}}};export{ut as default};
