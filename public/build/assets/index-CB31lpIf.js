import{u as h}from"./notification-BNa-2SF9.js";import{k,r as s,H as N,o as i,f as C,e as a,b as o,v as n,c as f,i as A,F as _,y as I,d as V,x as c}from"./main-EEGZSpAz.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as y,V as P}from"./VCard-DjDgR-fo.js";import{V as b,a as B,b as S,d as T}from"./VList-psZMOC0v.js";import{V as R}from"./VAvatar-DBC8BHWd.js";import{V as w}from"./VListItemAction-DR3x3-t7.js";import{V as D}from"./VDivider-CrXn8ftj.js";import{V as E}from"./VPagination-CMiC2fRP.js";import{V as F}from"./VCardText-DcKVb-oC.js";import"./api-BB8haixw.js";import"./index-Dz1rBMAR.js";import"./VImg-Df3r8EKV.js";import"./index-DEpqG4PE.js";import"./index-PHfBVrL9.js";import"./ssrBoot-DCeQRs9P.js";const z={class:"text-center mt-4"},H={__name:"index",setup(M){const u=h(),v=k(),r=s([]),l=s(1),m=s(1),g=s(10),d=async()=>{try{const e=await u.fetchAllNotifications(l.value,g.value);console.log("API Response:",e),r.value=e.notifications||[],m.value=e.last_page||1,console.log("Notifications:",r.value)}catch(e){console.error("Error fetching notifications:",e)}},x=e=>{e.read||u.markAsRead(e.id),e.notification_route&&v.push({name:e.notification_route,params:{id:e.application_id}})};return N(()=>{d()}),(e,p)=>(i(),C(P,null,{default:a(()=>[o(y,null,{default:a(()=>[n("All Notifications")]),_:1}),o(F,null,{default:a(()=>[o(b,null,{default:a(()=>[(i(!0),f(_,null,A(r.value,t=>(i(),f(_,{key:t.id},[o(B,{class:I({"unread-notification":!t.read}),onClick:U=>x(t)},{prepend:a(()=>[o(R,{color:t.color,icon:t.icon,variant:"tonal"},null,8,["color","icon"])]),append:a(()=>[o(w,null,{default:a(()=>[V("small",null,c(t.time),1)]),_:2},1024)]),default:a(()=>[o(S,null,{default:a(()=>[n(c(t.title),1)]),_:2},1024),o(T,null,{default:a(()=>[n(c(t.message),1)]),_:2},1024)]),_:2},1032,["class","onClick"]),o(D)],64))),128))]),_:1}),V("div",z,[o(E,{modelValue:l.value,"onUpdate:modelValue":[p[0]||(p[0]=t=>l.value=t),d],length:m.value},null,8,["modelValue","length"])])]),_:1})]),_:1}))}},se=L(H,[["__scopeId","data-v-2416d812"]]);export{se as default};
