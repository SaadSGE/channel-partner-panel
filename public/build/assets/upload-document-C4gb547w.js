import{c as F}from"./commonFunction-BZJVkwuH.js";import{u as y}from"./fileStore-e1pOCLO1.js";import{u as C}from"./studentStore-Dr-RYVDt.js";import{u as b}from"./submitApplication-CDkqyC-p.js";import{V as k,p as B,a as D,b as N}from"./vue-filepond.esm-BNgB84db.js";import"./sweetalert2-z6gKu1nJ.js";import{r as o,k as I,w as P,H as E,o as m,f as T,e as a,b as l,v as p,n as $,c as A,x as M,z as R,d as j,a9 as q}from"./main-DG8wQ_Yk.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as H,b as L}from"./VCard-BBNYcuN6.js";import{V as U}from"./VCardText-xIR690-i.js";import"./helpers-EXAafcUf.js";import"./VAvatar-CKA9oGYe.js";import"./VImg-cVHfs-ZR.js";import"./index-CF1lAXGU.js";const G={key:0,class:"text-error"},J={class:"d-flex justify-end mt-4"},K={__name:"upload-document",emits:["update:uploadDocumentShow","update:studentFormShow"],setup(O,{emit:f}){const v=k(N,D,B);F();const c=f,s=o(null),r=o([]),n=y();b();const _=C();I(),r.value=n.files;const h=o(null),S=o([]),i=o(0);P(h,e=>{e&&console.log("Selected student:",e)});const x=()=>{r.value.length===0?s.value="Please upload at least one file.":(s.value=null,c("update:uploadDocumentShow",!1),c("update:studentFormShow",!0))},w={process:(e,t,d,V,g,W,X)=>{i.value+=1,n.uploadFile(e,t).then(u=>V(u)).catch(u=>g(u))},revert:(e,t,d)=>{i.value-=1,n.removeFile(e),t()}};return E(async()=>{S.value=await _.search()}),document.querySelectorAll(".student-list-item").forEach(e=>{e.addEventListener("click",function(){console.log("Item selected:",this.textContent)})}),(e,t)=>(m(),T(H,null,{default:a(()=>[l(L,null,{default:a(()=>[p("Please upload only color scan copy files for new student")]),_:1}),l(U,null,{default:a(()=>[l($(v),{ref:"pond",name:"student_document","allow-multiple":!0,allowRemove:"true",files:r.value,server:w,"label-idle":"Drop files here or <span class='filepond--label-action'>Browse</span>"},null,8,["files"]),s.value?(m(),A("p",G,M(s.value),1)):R("",!0),j("div",J,[l(q,{color:"primary",onClick:t[0]||(t[0]=d=>x())},{default:a(()=>[p("Next")]),_:1})])]),_:1})]),_:1}))}},me=z(K,[["__scopeId","data-v-698c588b"]]);export{me as default};
