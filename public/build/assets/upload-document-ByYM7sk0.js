import{c as F}from"./commonFunction-BfWgLDUp.js";import{u as y}from"./fileStore-C1P57Pkq.js";import{u as C}from"./submitApplication-B93aITwL.js";import{V as b,p as k,a as B,b as D}from"./vue-filepond.esm-B-EU8-Xk.js";import"./sweetalert2-z6gKu1nJ.js";import{r as o,k as N,w as I,H as P,o as m,f as E,e as a,b as l,v as p,n as T,c as $,x as A,z as M,d as R,a7 as j}from"./main-BExmZ2kf.js";import{u as q}from"./studentStore-ClEuK9s7.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as H,b as L}from"./VCard-BWy6HoPz.js";import{V as U}from"./VCardText-Cf-pEaEQ.js";import"./api-gXFPZ2Tx.js";import"./index-BYrzgnBV.js";import"./helpers-enDgjw4j.js";import"./VAvatar-B4kKMTij.js";import"./VImg-ClVMkUI5.js";import"./index-KIGaSWeg.js";const G={key:0,class:"text-error"},J={class:"d-flex justify-end mt-4"},K={__name:"upload-document",emits:["update:uploadDocumentShow","update:studentFormShow"],setup(O,{emit:f}){const v=b(D,B,k);F();const i=f,s=o(null),r=o([]),n=y();C();const _=q();N(),r.value=n.files;const h=o(null),S=o([]),c=o(0);I(h,e=>{e&&console.log("Selected student:",e)});const x=()=>{r.value.length===0?s.value="Please upload at least one file.":(s.value=null,i("update:uploadDocumentShow",!1),i("update:studentFormShow",!0))},w={process:(e,t,d,V,g,W,X)=>{c.value+=1,n.uploadFile(e,t).then(u=>V(u)).catch(u=>g(u))},revert:(e,t,d)=>{c.value-=1,n.removeFile(e),t()}};return P(async()=>{S.value=await _.search()}),document.querySelectorAll(".student-list-item").forEach(e=>{e.addEventListener("click",function(){console.log("Item selected:",this.textContent)})}),(e,t)=>(m(),E(H,null,{default:a(()=>[l(L,null,{default:a(()=>[p("Please upload only color scan copy files for new student")]),_:1}),l(U,null,{default:a(()=>[l(T(v),{ref:"pond",name:"student_document","allow-multiple":!0,allowRemove:"true",files:r.value,server:w,"label-idle":"Drop files here or <span class='filepond--label-action'>Browse</span>"},null,8,["files"]),s.value?(m(),$("p",G,A(s.value),1)):M("",!0),R("div",J,[l(j,{color:"primary",onClick:t[0]||(t[0]=d=>x())},{default:a(()=>[p("Next")]),_:1})])]),_:1})]),_:1}))}},fe=z(K,[["__scopeId","data-v-f2612b96"]]);export{fe as default};
