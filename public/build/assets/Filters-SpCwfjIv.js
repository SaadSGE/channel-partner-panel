import{_ as Ae}from"./AppDateTimePicker-CV-ILq9N.js";import{_ as Te}from"./AppSelect-BkUZ9Lar.js";import{_ as Ee}from"./AppTextField-C3DIHgDj.js";import{_ as Ne}from"./AppAutocomplete-PFejOtcd.js";import{c as we}from"./commonFunction-1Z4Kkuzm.js";import{bg as Le,bh as ue,r as d,w as s,H as S,o as i,c as Pe,f as n,e as o,b as r,z as c,n as k,F as qe}from"./main-CwplE3lg.js";import{u as Fe}from"./rolePermission-DhZowdkm.js";import{u as Be}from"./user-CAGU3EL7.js";import{g as De}from"./helpers-BgOLeIez.js";import{a as m}from"./VRow-BRh1XDAp.js";const Oe=Le({id:"editor",state:()=>({editors:[]}),actions:{async getEditors(){try{const v=await ue("/fetch-editor",{method:"GET"});this.editors=v.data}catch(v){console.error("Error fetching editors:",v),this.errors=v.response?v.response.data.errors:["An unexpected error occurred"]}}}}),Je={__name:"Filters",props:{isAdmin:{type:Boolean,default:!1},selectedStatus:{type:Number,Required:!1},selectedLeadStatus:{type:Number,Required:!1},selectedChannelPartner:{type:Number,Required:!1},selectedUniversity:{type:Number,Required:!1},selectedApplicationOfficer:{type:Number,Required:!1},selectedDateFrom:{type:Number,Required:!1},selectedDateTo:{type:Number,Required:!1},selectedCountry:{type:Number,Required:!1},selectedIntake:{type:Number,Required:!1},selectedUniversity2:{type:Number,Required:!1},selectedCourseName:{type:Number,Required:!1},selectedRole:{type:Number,Required:!1},selectedParent:{type:Number,Required:!1},selectedEditor:{type:Number,Required:!1},selectedCourseType:{type:Number,Required:!1},selectedUserStatus:{type:Object,Required:!1},selectedMou:{type:Object,Required:!1},selectedAssignedStatus:{type:Number,Required:!1},selectedBranch:{type:Number,Required:!1},selectedAssignedBranch:{type:Number,Required:!1},countryLabel:{type:String,default:"Filter by Country"},branchLabel:{type:String,default:"Branch"},assignedBranchLabel:{type:String,default:"Assigned User of Branch"},selectedUser:{type:Number,Required:!1},leadHealthType:{type:String,Required:!1},selectedLeadType:{type:String,required:!1},selectedEvent:{type:Number,required:!1},selectedStudentSource:{type:String,Required:!1}},emits:["update-status","update-channel-partner","update-university","update-application-officer","update-dateFrom","update-dateTo","update-country","update-intake","update-university2","update-courseName","update-role","update-parent","update-editor","update-userStatus","update-courseType","update-mou","update-assignedStatus","update-branch","update-assigned-branch","update-user","update-lead-health-type","update-lead-type","update-event","update-student-source"],setup(v,{emit:ne}){const oe=d([{id:0,name:"Application Processing"},{id:1,name:"Application Submitted"},{id:2,name:"Pending Docs"},{id:3,name:"Offer Issue Conditional"},{id:4,name:"Offer Issue Unconditional"},{id:5,name:"Need Payment"},{id:6,name:"CAS Issued"},{id:7,name:"Additional Doc Needed"},{id:8,name:"Refund Required"},{id:9,name:"Application Rejected"},{id:10,name:"Session Expired"},{id:11,name:"Doc Received"},{id:12,name:"Partial Payment"}]),re=d([{id:0,name:"Graduate"},{id:1,name:"Post graduate"}]),Q=d([]),X=d([]),Y=d([]),V=d([]),Z=d([]),ee=d([]),ce=d(),U=d(!1),h=d(),g=d(null);d(null),d(null);const me=d([]),te=d([]),le=d([]),pe=d(0),ae=Fe(),y=Be(),f=we(),b=Oe(),de=d(De()==="admin"),fe=d([{id:"hot",name:"Hot"},{id:"warm",name:"Warm"},{id:"cold",name:"Cold"}]),ve=d([{id:"social",name:"Social"},{id:"event",name:"Event"}]),se=d([]),ye=d([{id:"lead",name:"Lead"},{id:"regular",name:"Regular"}]),l=v,u=ne,C=d(l.selectedStatus),R=d(l.selectedLeadStatus),A=d(l.selectedChannelPartner),T=d(l.selectedUniversity),E=d(l.selectedApplicationOfficer),N=d(l.selectedDateFrom),w=d(l.selectedDateTo),L=d(l.selectedCountry),P=d(l.selectedIntake),q=d(l.selectedUniversity2),F=d(l.selectedCourseName),B=d(l.selectedRole),D=d(l.selectedParent),O=d(l.selectedEditor),I=d(l.selectedUserStatus),x=d(l.selectedCourseType),M=d(l.selectedMou),H=d(l.selectedAssignedStatus),_=d(l.selectedBranch),$=d(l.selectedAssignedBranch),j=d(l.selectedUser),G=d(l.leadHealthType),z=d(l.selectedLeadType),W=d(l.selectedEvent),J=d(l.selectedStudentSource);s(C,t=>{u("update-status",t)}),s(R,t=>{u("update-lead-status",t)}),s(A,t=>{u("update-channel-partner",t)}),s(T,t=>{u("update-university",t)}),s(E,t=>{u("update-application-officer",t)}),s(N,t=>{u("update-dateFrom",t)}),s(w,t=>{u("update-dateTo",t)}),s(L,t=>{u("update-country",t)}),s(P,t=>{u("update-intake",t)}),s(q,t=>{u("update-university2",t)}),s(F,t=>{u("update-courseName",t)}),s(B,t=>{u("update-role",t)}),s(D,t=>{u("update-parent",t)}),s(O,t=>{u("update-editor",t)}),s(I,t=>{u("update-userStatus",t)}),s(x,t=>{u("update-courseType",t)}),s(M,t=>{u("update-mou",t)}),s(H,t=>{u("update-assignedStatus",t)}),s(_,t=>{u("update-branch",t)}),s($,t=>{u("update-assigned-branch",t)}),s(j,t=>{u("update-user",t)}),s(G,t=>{u("update-lead-health-type",t)}),s(z,t=>{u("update-lead-type",t)}),s(W,t=>{u("update-event",t)}),s(J,t=>{u("update-student-source",t)});const Se=async()=>{try{if(l.selectedUniversity!==void 0||l.selectedUniversity2!==void 0){const t=await f.getUniversities();V.value=t.data.map(a=>({id:a.id,name:a.name}))}if(l.selectedChannelPartner!==void 0){const t=await y.fetchUsers(1,"","channel partner","",!0);Z.value=t.data.map(a=>({id:a.id,name:a.company_name_with_email}))}if(l.selectedApplicationOfficer!==void 0){const t=await y.fetchUsers(1,"","application control officer","",!0);ee.value=t.data.map(a=>({id:a.id,name:a.name_with_email}))}}catch(t){console.error("Error fetching filter options:",t)}};S(async()=>{(l.selectedChannelPartner!==void 0||l.selectedApplicationOfficer!==void 0)&&await Se()}),S(async()=>{(l.selectedCountry!==void 0||l.selectedIntake!==void 0||l.selectedUniversity!==void 0||l.selectedUniversity2!==void 0)&&await be(),l.selectedEditor!==void 0&&await b.getEditors()});const be=async()=>{try{l.selectedCountry!==void 0&&(await f.getAllCountries(),Q.value=f.allCountries),l.selectedIntake!==void 0&&f.intakes.length===0&&(await f.getIntakes(),X.value=f.intakes),(l.selectedUniversity!==void 0||l.selectedUniversity2!==void 0)&&f.universities.length===0&&(await f.getUniversities(),V.value=f.universities)}catch(t){console.error("Error loading filter options:",t)}},K=async()=>{if(h.value||g.value||selectedCountry.value||selectedMou.value){U.value=!0;try{const t=await y.fetchUsers(h.value,g.value,selectedCountry.value,selectedMou.value);me.value=t.data,pe.value=t.total}catch(t){console.error("Error fetching users:",t)}finally{U.value=!1}}},Ve=async()=>{await f.getLeadStatus("",1,10,"","",null,!0),le.value=f.leadStatus},Ue=async()=>{U.value=!0;try{const t=await y.fetcAllhUser();te.value=y.allUsers}catch(t){console.error("Error fetching leadusers:",t)}finally{U.value=!1}};s([h,g],()=>{(h.value||g.value)&&K()}),S(async()=>{l.selectedUser!==void 0&&await Ue()}),S(async()=>{l.selectedRole!==void 0&&(await ae.getAllRoles(),Y.value=ae.roles),l.selectedParent!==void 0&&await y.fetchParentUsers(),l.selectedLeadStatus!==void 0&&await Ve()}),S(async()=>{await he()});const he=async()=>{try{l.selectedEditor!==void 0&&b.editors.length===0&&(await b.getEditors(),ce.value=b.editors)}catch(t){console.error("Error loading editors:",t)}},ge=d([{id:1,name:"Assigned"},{id:0,name:"Unassigned"}]),ke=async()=>{try{const t=await ue("/events",{method:"GET"});se.value=t.data.map(a=>({id:a.id,name:a.name}))}catch(t){console.error("Error fetching events:",t)}};return S(async()=>{await ke(),await f.getBranches()}),(t,a)=>{const p=Ne,Ce=Ee,Re=Te,ie=Ae;return i(),Pe(qe,null,[l.selectedStudentSource!==void 0?(i(),n(m,{key:0,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:J.value,"onUpdate:modelValue":a[0]||(a[0]=e=>J.value=e),items:ye.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Student Source",placeholder:"Select Student Source",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedLeadType!==void 0?(i(),n(m,{key:1,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:z.value,"onUpdate:modelValue":a[1]||(a[1]=e=>z.value=e),items:ve.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Lead Type",placeholder:"Select Lead Type",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedCountry!==void 0?(i(),n(m,{key:2,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:L.value,"onUpdate:modelValue":a[2]||(a[2]=e=>L.value=e),items:Q.value,"item-title":e=>e.name,"item-value":e=>e.id,label:v.countryLabel,placeholder:"Select Country",clearable:""},null,8,["modelValue","items","item-title","item-value","label"])]),_:1})):c("",!0),l.selectedEvent!==void 0?(i(),n(m,{key:3,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:W.value,"onUpdate:modelValue":a[3]||(a[3]=e=>W.value=e),items:se.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Event",placeholder:"Select Event",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedAssignedBranch!==void 0?(i(),n(m,{key:4,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:$.value,"onUpdate:modelValue":a[4]||(a[4]=e=>$.value=e),items:k(f).branches,"item-title":e=>e.name,"item-value":e=>e.id,label:v.assignedBranchLabel,placeholder:"Select Branch",clearable:""},null,8,["modelValue","items","item-title","item-value","label"])]),_:1})):c("",!0),l.selectedBranch!==void 0?(i(),n(m,{key:5,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:_.value,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value=e),items:k(f).branches,"item-title":e=>e.name,"item-value":e=>e.id,label:v.branchLabel,placeholder:"Select Branch",clearable:""},null,8,["modelValue","items","item-title","item-value","label"])]),_:1})):c("",!0),l.leadHealthType!==void 0?(i(),n(m,{key:6,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:G.value,"onUpdate:modelValue":a[6]||(a[6]=e=>G.value=e),items:fe.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Lead Health Type",placeholder:"Select Health Type",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedAssignedStatus!==void 0?(i(),n(m,{key:7,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:H.value,"onUpdate:modelValue":a[7]||(a[7]=e=>H.value=e),items:ge.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Assigned Status",placeholder:"Select Assigned Status",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedLeadStatus!==void 0?(i(),n(m,{key:8,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:R.value,"onUpdate:modelValue":a[8]||(a[8]=e=>R.value=e),items:le.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Lead Status",placeholder:"Select Lead Status",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedStatus!==void 0?(i(),n(m,{key:9,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:C.value,"onUpdate:modelValue":a[9]||(a[9]=e=>C.value=e),items:oe.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Status",placeholder:"Select Status",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),de.value&&l.selectedChannelPartner!==void 0?(i(),n(m,{key:10,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:A.value,"onUpdate:modelValue":a[10]||(a[10]=e=>A.value=e),items:Z.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Channel Partner",placeholder:"Select Channel Partner",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedUniversity!==void 0?(i(),n(m,{key:11,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:T.value,"onUpdate:modelValue":a[11]||(a[11]=e=>T.value=e),items:V.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"University",placeholder:"Select University",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),de.value&&l.selectedApplicationOfficer!==void 0?(i(),n(m,{key:12,cols:"12",md:"3"},{default:o(()=>[r(p,{modelValue:E.value,"onUpdate:modelValue":a[12]||(a[12]=e=>E.value=e),items:ee.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Application Officer",placeholder:"Select Application Officer",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedIntake!==void 0?(i(),n(m,{key:13,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:P.value,"onUpdate:modelValue":a[13]||(a[13]=e=>P.value=e),items:X.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Filter by Intake",placeholder:"Select Intake",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedUniversity2!==void 0?(i(),n(m,{key:14,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:q.value,"onUpdate:modelValue":a[14]||(a[14]=e=>q.value=e),items:V.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Filter by University",placeholder:"Select University",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedCourseName!==void 0?(i(),n(m,{key:15,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(Ce,{modelValue:F.value,"onUpdate:modelValue":a[15]||(a[15]=e=>F.value=e),label:"Filter by Course Name",placeholder:"Enter Course Name",clearable:""},null,8,["modelValue"])]),_:1})):c("",!0),l.selectedCourseType!==void 0?(i(),n(m,{key:16,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:x.value,"onUpdate:modelValue":a[16]||(a[16]=e=>x.value=e),items:re.value,"item-title":e=>e.name,"item-value":e=>e.id,label:"Filter by coursetype",placeholder:"Select Coursetype",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedUser!==void 0?(i(),n(m,{key:17,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:j.value,"onUpdate:modelValue":a[17]||(a[17]=e=>j.value=e),items:te.value,"item-title":e=>e.name_with_email,"item-value":e=>e.id,label:"By User",placeholder:"Select User",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedRole!==void 0?(i(),n(m,{key:18,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(Re,{modelValue:B.value,"onUpdate:modelValue":a[18]||(a[18]=e=>B.value=e),label:"Filter by Role",placeholder:"Select role",items:Y.value,clearable:"","clear-icon":"tabler-x","item-title":e=>e.role,"item-value":e=>e.role},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedParent!==void 0?(i(),n(m,{key:19,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:D.value,"onUpdate:modelValue":a[19]||(a[19]=e=>D.value=e),label:"Filter by Parent",placeholder:"Select Parent",items:k(y).parentUsers,clearable:"","clear-icon":"tabler-x","item-title":e=>e.full_name,"item-value":e=>e.id},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedUserStatus!==void 0?(i(),n(m,{key:20,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:I.value,"onUpdate:modelValue":a[20]||(a[20]=e=>I.value=e),items:[{value:1,title:"Active"},{value:0,title:"Inactive"}],placeholder:"Select Status",label:"Filter by User Status ",onChange:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})):c("",!0),l.selectedMou!==void 0?(i(),n(m,{key:21,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:M.value,"onUpdate:modelValue":a[21]||(a[21]=e=>M.value=e),items:[{value:1,title:"Complete"},{value:0,title:"Incomplete"}],placeholder:"Select Mou",label:"Filter by Mou",onChange:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})):c("",!0),l.selectedEditor!==void 0?(i(),n(m,{key:22,cols:"12",sm:"6",md:"3"},{default:o(()=>[r(p,{modelValue:O.value,"onUpdate:modelValue":a[22]||(a[22]=e=>O.value=e),items:k(b).editors,"item-title":e=>e.full_name,"item-value":e=>e.id,label:"Editor",placeholder:"Select Editor",clearable:""},null,8,["modelValue","items","item-title","item-value"])]),_:1})):c("",!0),l.selectedDateFrom!==void 0?(i(),n(m,{key:23,cols:"12",md:"3"},{default:o(()=>[r(ie,{modelValue:N.value,"onUpdate:modelValue":a[23]||(a[23]=e=>N.value=e),label:"From Date",placeholder:"Select From Date"},null,8,["modelValue"])]),_:1})):c("",!0),l.selectedDateTo!==void 0?(i(),n(m,{key:24,cols:"12",md:"3"},{default:o(()=>[r(ie,{modelValue:w.value,"onUpdate:modelValue":a[24]||(a[24]=e=>w.value=e),label:"To Date",placeholder:"Select To Date"},null,8,["modelValue"])]),_:1})):c("",!0)],64)}}};export{Je as _,Oe as e};
