import{am as h}from"./main-Dvn8RlBB.js";import{$ as o}from"./api-BDjZWHt0.js";const y=h({id:"common-function",state:()=>({countries:[],courses:[],intakes:[],errors:[],universities:[],courseDetails:[],selectedCountryId:null,selectedCourseId:null,selectedIntakeId:null,selectedUniversityId:null,selectedCourseDetailsId:null}),getters:{getFilteredCourseDetails:e=>(t,n,c,i)=>{var a,u,l,d,p;console.log(t),console.log(n),console.log(c),console.log(i),e.selectedCountryId=t,e.selectedCourseId=n,e.selectedIntakeId=c,e.selectedUniversityId=i;const r=e.courseDetails.find(s=>parseInt(s.country_id,10)===t&&parseInt(s.course_id,10)===n&&parseInt(s.intake_id,10)===c&&parseInt(s.university_id,10)===i);return console.log(e.courseDetails),console.log(r),r?(e.selectedCourseDetailsId=r.id,{courseName:((a=r.course)==null?void 0:a.name)||"",intake:((u=r.intake)==null?void 0:u.name)||"",tuitionFee:r.tuition_fee||"",courseDuration:r.course_duration||"",courseLabel:((l=r.course)==null?void 0:l.type)||"",location:((d=r.country)==null?void 0:d.name)||"",universityLogo:((p=r.university)==null?void 0:p.logo)||"",academicRequirement:r.academic_requirement||"",englishRequirement:r.english_requirement||""}):{courseName:"",intake:"",tuitionFee:"",courseDuration:"",courseLabel:"",location:"",universityLogo:"",academicRequirement:"",englishRequirement:""}}},actions:{async getCountries(){try{const e=await o("/application-country",{method:"GET"});this.countries=e.data}catch(e){console.error("Error fetching countries:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"]}},async getCourses(){try{const e=await o("/course",{method:"GET"});this.courses=e.data}catch(e){console.error("Error fetching courses:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"]}},async getIntakes(){try{const e=await o("/intake",{method:"GET"});this.intakes=e.data}catch(e){console.error("Error fetching intakes:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"]}},async getUniversities(){try{const e=await o("/university",{method:"GET"});this.universities=e.data}catch(e){console.error("Error fetching universites:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"]}},async getCourseDetails(){try{const e=await o("/course-detail",{method:"GET"});this.courseDetails=e.data}catch(e){console.error("Error fetching course details:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"]}}}});export{y as c};
