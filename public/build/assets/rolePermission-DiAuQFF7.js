import{b2 as p}from"./main-CkCTd3c7.js";import{h as t}from"./helpers-BKB9sdjK.js";import{$ as s}from"./api-DMVLjeb1.js";const h=p({id:"role-permission",state:()=>({roles:[],permissions:[],loading:!1}),actions:{async getAllRoles(){try{const r=await s("/roles",{method:"GET",headers:{"Content-Type":"application/json"}});this.roles=r.data}catch(r){throw console.error("Error getting application list:",r),this.errors=r.response?r.response.data.errors:["An unexpected error occurred"],r}},async getAllPermission(){try{const r=await s("/permissions",{method:"GET",headers:{"Content-Type":"application/json"}});this.permissions=r.data}catch(r){throw console.error("Error getting application list:",r),this.errors=r.response?r.response.data.errors:["An unexpected error occurred"],r}},async getAllPermissionForTable({page:r,perPage:e,sortBy:n,orderBy:a,searchQuery:i}){this.loading=!0;try{const o=await s("/permissions-table",{method:"GET",params:{page:r,perPage:e,sortBy:n,orderBy:a,searchQuery:i},headers:{"Content-Type":"application/json"}});return this.permissions=o.data,this.loading=!1,o}catch(o){throw console.error("Error getting permissions:",o),this.loading=!1,o}},async setRolePermission(r){try{return(await s(`/roles/${r.name}/permissions`,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error setting role permissions:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"],e}},async updateRolePermission(r){try{return(await s(`/roles/${r.name}/permissions`,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error setting role permissions:",e),this.errors=e.response?e.response.data.errors:["An unexpected error occurred"],e}},async createPermission(r){try{return(await s("/permissions",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).data}catch(e){t(e)}},async updatePermission(r){try{return(await s(`/permissions/${r.id}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).data}catch(e){t(e)}},async deletePermission(r){try{await s(`/permissions/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})}catch(e){t(e)}}}});export{h as u};
