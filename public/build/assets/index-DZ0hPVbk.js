import{_ as V}from"./AppCardActions-DYSe8pFN.js";import{_ as S}from"./AppTextField-D1xNfK2h.js";import{u as D}from"./applicationList-Bx15Mv9D.js";import{S as d}from"./sweetalert2-z6gKu1nJ.js";import{r as p,k as I,H as b,a as B,o as N,c as T,b as t,e as a,n as i,a3 as P,d as r,x as n,y as R,v as L,a1 as w}from"./main-WhBPLejr.js";import{V as $}from"./VCardText-5QpEQJAC.js";import{V as U,a as E}from"./VRow-Jonpwm-c.js";import{V as O}from"./VDataTable-lCgrH9GM.js";import{V as z}from"./VChip-Brxd79fX.js";import"./index-N-Vlfseh.js";import"./VCard-DdxaZAmt.js";import"./VAvatar-GomlXW_T.js";import"./VImg-DTED4q-7.js";import"./index-PLidNb9G.js";import"./VOverlay-kOJfVMTn.js";import"./easing-CjukEv2V.js";import"./lazy-n0NgmivN.js";import"./scopeId-D3UlRSNf.js";import"./form-bKKQ6XBD.js";import"./VTextField-CacSDsqS.js";/* empty css                   */import"./VCounter-EnA9qt3U.js";import"./VField-LwvUPg-X.js";import"./VInput-CTvxB_AN.js";import"./forwardRefs-C-GTDzx5.js";import"./api-DYhzieni.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VPagination-C7hAwyXf.js";import"./VSelect-4bKOhjZf.js";import"./VList-B8lFsSZu.js";import"./ssrBoot-CwbiC8Yo.js";import"./VDivider-BxP9ze-w.js";import"./dialog-transition-LQ2b2PZj.js";import"./VMenu-Bsa5dAhO.js";import"./VCheckboxBtn-cZ0DsAGA.js";import"./VSelectionControl-CfhbiwFn.js";import"./VTable-D6M4FL-z.js";import"./filter-BbASfUKA.js";import"./VSlideGroup-IP-Zn35C.js";const j={class:"d-flex flex-column ms-3"},q={class:"d-block font-weight-medium text-truncate text-high-emphasis"},F={class:"text-md"},H={class:"text-md"},M={class:"d-flex flex-column ms-3"},Pe={__name:"index",setup(Y){const c=D(),l=p(),y=I();b(async()=>{u.value=!0,l.value=await c.getApplicationList(),u.value=!1});const o=p(""),x=[{title:"APPLICATION ID",key:"application_id"},{title:"Student Name",key:"student.name"},{title:"University/Course Details",key:"university.name"},{title:"Status",key:"status"},{title:"Date Added",key:"created_at"},{title:"Action",key:"action",sortable:!1}],f=s=>{switch(s){case 0:return"primary";case 1:return"success";case 2:return"warning";case 3:return"info";case 4:return"info";case 5:return"warning";case 6:return"success";case 7:return"warning";case 8:return"danger";case 9:return"danger";case 10:return"secondary";case 11:return"success";case 12:return"warning";default:return"secondary"}},g=s=>{switch(s){case 0:return"Application Processing";case 1:return"Application Submitted";case 2:return"Pending Docs";case 3:return"Offer Issue Conditional";case 4:return"Offer Issue Unconditional";case 5:return"Need Payment";case 6:return"CAS Issued";case 7:return"Additional Doc Needed";case 8:return"Refund Required";case 9:return"Application Rejected";case 10:return"Session Expired";case 11:return"Doc Received";case 12:return"Partial Payment";default:return"Unknown Status"}},C=s=>{y.push({name:"application-details",params:{id:s}})},v=async s=>{if((await d.fire({title:"Are you sure?",text:"Do you want to delete this item?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{await c.deleteItem(s),l.value=await c.getApplicationList(),d.fire("Deleted!","The item has been deleted.","success")}catch{d.fire("Error!","There was an error deleting the item.","error")}},u=p(!1);return(s,m)=>{const _=S,h=B("IconBtn"),A=V;return N(),T("div",null,[t(A,{title:"New Application",loading:i(u),"no-actions":""},{default:a(()=>[t($,null,{default:a(()=>[t(U,null,{default:a(()=>[t(E,{cols:"12","offset-md":"8",md:"4"},{default:a(()=>[t(_,{modelValue:i(o),"onUpdate:modelValue":m[0]||(m[0]=e=>P(o)?o.value=e:null),placeholder:"Search ...","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(O,{headers:x,items:i(l)||[],search:i(o),"items-per-page":5,class:"text-no-wrap color-black"},{"item.student.name":a(({item:e})=>[r("p",null,n(e.student.first_name)+" "+n(e.student.last_name),1)]),"item.university.name":a(({item:e})=>[r("div",j,[r("span",q,n(e.university.name),1),r("span",F,n(e.course.name),1),r("span",H,n(e.intake.name),1)])]),"item.status":a(({item:e})=>[t(z,{color:f(e.status),class:R([`text-${f(e.status)}`,"font-weight-medium"]),size:"small"},{default:a(()=>[L(n(g(e.status)),1)]),_:2},1032,["color","class"])]),"item.action":a(({item:e})=>[r("div",M,[t(h,{onClick:k=>C(e.id)},{default:a(()=>[t(w,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),t(h,{onClick:k=>v(e.id)},{default:a(()=>[t(w,{icon:"tabler-trash"})]),_:2},1032,["onClick"])])]),_:1},8,["items","search"])]),_:1},8,["loading"])])}}};export{Pe as default};
