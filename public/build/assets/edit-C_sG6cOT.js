import{_ as D}from"./AppTextarea-C_ABNvrm.js";import{_ as g}from"./AppTextField-BNeJXgDa.js";import{r,w as h,o as F,f as O,e as n,d,b as t,a2 as k,a9 as _,v as y,a8 as B}from"./main-BADZmGzY.js";import{c as U}from"./commonFunction-DmSA9djT.js";import{V as z}from"./VNavigationDrawer-rm8-3mhr.js";import{V as C}from"./VDivider-Dlzz5Gif.js";import{V as E}from"./VForm-NhQaZf3T.js";import"./VInput-Bt4jOYU7.js";import"./index-M4AAPadW.js";import"./index-CWxjtjo1.js";import"./forwardRefs-D3j0TLhE.js";import"./VTextField-CPDcYvV-.js";import"./scopeId-BIg2yWZu.js";import"./ssrBoot-Mt929TXd.js";const I={class:"customizer-heading d-flex align-center justify-space-between"},T=d("div",null,[d("h6",{class:"text-h6"},"Update Event")],-1),$={class:"d-flex align-center gap-1"},X={__name:"edit",props:{isNavDrawerOpen:Boolean,editedItem:Object},emits:["update:isNavDrawerOpen"],setup(b,{emit:w}){const N=U(),s=r(""),i=r(""),l=r(!1),m=b,p=r(null),c=r(null),v=w;h(()=>m.editedItem,a=>{a&&(s.value=a.name,i.value=a.description,p.value=a.id)},{immediate:!0});const f=a=>!!a||"Required field",V=async()=>{if(!await c.value.validate())return;const e={name:s.value,description:i.value};try{l.value=!0,await N.updateEvent(p.value,e),l.value=!1,s.value="",i.value="",v("update:isNavDrawerOpen",!1)}catch(u){console.error("Failed to update event:",u)}};return(a,e)=>{const u=g,x=D;return F(),O(z,{modelValue:m.isNavDrawerOpen,"onUpdate:modelValue":e[3]||(e[3]=o=>m.isNavDrawerOpen=o),temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:n(()=>[d("div",I,[T,d("div",$,[t(_,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:e[0]||(e[0]=o=>v("update:isNavDrawerOpen",!1))},{default:n(()=>[t(k,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),t(C),t(E,{ref_key:"refForm",ref:c,onSubmit:B(V,["prevent"]),class:"form-padding mt-4"},{default:n(()=>[t(u,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value=o),label:"Event Name",rules:[f],class:"mb-2"},null,8,["modelValue","rules"]),t(x,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value=o),label:"Description",rules:[f],class:"mb-2"},null,8,["modelValue","rules"]),t(_,{loading:l.value,disabled:l.value,color:"primary",onClick:V,class:"mt-4",block:""},{default:n(()=>[y(" Update ")]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1},8,["modelValue"])}}};export{X as default};
