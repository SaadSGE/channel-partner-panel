import{_ as D}from"./AppCardActions-DyWd01F7.js";import{_ as I}from"./TablePagination-D0sOsHcs.js";import{_ as M}from"./ShowMore-CKQvBDp3.js";import{_ as z}from"./AppSelect-CGrTW4qd.js";import{_ as O}from"./AppTextField-BgMVzjhm.js";import{k as j,r as l,H,w as L,o as Q,c as Y,b as a,e as o,v as n,d as p,a6 as S,a7 as N,F as G}from"./main-CI7cqQmu.js";import{u as J}from"./recordStore-z19C4od6.js";import{S as h}from"./sweetalert2-z6gKu1nJ.js";import{b as F,V as R,d as K}from"./VCard-Cf4_qgxv.js";import{V as k}from"./VCardText-DZfy_Rv4.js";import{V as W}from"./VDataTableServer-DPcYZ5lv.js";import{V as X}from"./VForm-B5Xl1FA6.js";import{V as x}from"./VTextField-CX1YN7H1.js";import{V as Z}from"./VSpacer-BaJuzlRy.js";import{V as ee}from"./VDialog-CIxNjxHe.js";import"./index-B1wexbwg.js";import"./VOverlay-yYNgwtxu.js";import"./easing-CjukEv2V.js";import"./lazy-Bk-4RCLW.js";import"./scopeId-CvFPnsJb.js";import"./index-B6Vh99Qb.js";import"./VDivider-DMJBUiY2.js";import"./VPagination-B-QBStXP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-BVoxWKEV.js";import"./VSelect-D4W3r2YB.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-BiUuSPXD.js";import"./ssrBoot-BAQ8jU4G.js";import"./VAvatar-CNYpP6hL.js";import"./VImg-DqWFQaLG.js";import"./dialog-transition-DfQeTniO.js";import"./VMenu-G5HnfFBC.js";import"./VCheckboxBtn-Bw5_AlAC.js";import"./VSelectionControl-COpeYmnx.js";import"./VChip-CTz8yssI.js";import"./VSlideGroup-DYhhO-BK.js";import"./api-DfxwZSPq.js";import"./index-B3bPRkoL.js";import"./VDataTable-LtDacBOk.js";import"./VTable-C3ll8jOK.js";import"./filter-A62FnCQQ.js";/* empty css                   */import"./VCounter-wsgXE4-H.js";import"./VField-DxlwWh6y.js";import"./VInput-1G8Ghd8F.js";/* empty css              */const te={class:"text-center mt-2"},ae={class:"d-flex justify-space-between flex-wrap gap-6"},oe={class:"d-flex flex-row gap-4 align-center flex-wrap"},Xe={__name:"index",setup(le){const w=J();j();const m=l(""),u=l(!1),i=l(!1),c=l(""),f=l(""),v=l(""),C=l(!1),V=l(null),_=r=>!!r||"This field is required";H(async()=>{await y()});const y=async(r=1)=>{u.value=!0;const e=await w.fetchRecord(r,m.value);b.value=e.data,g.value=e.total,u.value=!1};L([m],()=>{y()});const T=[{title:"Country",key:"country.name"},{title:"Intake",key:"intake.name"},{title:"University",key:"university.name"},{title:"Course Type",key:"course.type"},{title:"Course Name",key:"course.name"},{title:"Tuition Fee",key:"tuition_fee"},{title:"Course Duration",key:"course_duration"},{title:"Academic Requirement",key:"academic_requirement"},{title:"English Requirement",key:"english_requirement"},{title:"Actions",key:"actions",sortable:!1}],b=l(),g=l(),s=l(10),d=l(1),A=r=>{y(r.page)},q=async()=>{V.value.validate().then(async r=>{if(r.valid)try{await w.requestForm({universityName:c.value,courseName:f.value,intakeName:v.value}),h.fire("Success!","Your request has been successfully submitted. Our team will review it and get back to you shortly.","success"),i.value=!1,V.value.reset()}catch{h.fire("Error!","Failed to submit the request.","error")}})};return(r,e)=>{const E=O,$=z,U=M,P=I,B=D;return Q(),Y(G,null,[a(R,{class:"p-5"},{default:o(()=>[a(F,{class:"text-center"},{default:o(()=>[n(" Search Course/University/Intake ")]),_:1}),a(k,{class:"d-flex flex-column align-center"},{default:o(()=>[a(E,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),placeholder:" Search Course/University/Intake",class:"mx-auto",style:{"max-inline-size":"30rem","min-inline-size":"30rem"}},null,8,["modelValue"]),p("div",te,[n(" Don't find your desired record? "),p("a",{href:"#",onClick:e[1]||(e[1]=S(t=>i.value=!0,["prevent"]))},"Click here to request")])]),_:1})]),_:1}),a(B,{class:"mt-2",loading:u.value,"no-actions":""},{default:o(()=>[a(k,null,{default:o(()=>[p("div",ae,[p("div",oe,[a($,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value=t),items:[10,25,50,100],style:{"inline-size":"6.25rem"}},null,8,["modelValue"])])])]),_:1}),a(W,{"items-per-page":s.value,"onUpdate:itemsPerPage":e[4]||(e[4]=t=>s.value=t),page:d.value,"onUpdate:page":e[5]||(e[5]=t=>d.value=t),loading:u.value,"items-length":g.value,headers:T,items:b.value,"item-value":"total",class:"text-no-wrap text-sm rounded-0","onUpdate:options":A},{"item.academic_requirement":o(({item:t})=>[a(U,{text:t.academic_requirement,lines:3},null,8,["text"])]),"item.english_requirement":o(({item:t})=>[a(U,{text:t.english_requirement,lines:3},null,8,["text"])]),bottom:o(()=>[a(P,{page:d.value,"onUpdate:page":e[3]||(e[3]=t=>d.value=t),"items-per-page":s.value,"total-items":g.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items-length","items"])]),_:1},8,["loading"]),a(ee,{modelValue:i.value,"onUpdate:modelValue":e[11]||(e[11]=t=>i.value=t),"max-width":"500px"},{default:o(()=>[a(R,null,{default:o(()=>[a(F,null,{default:o(()=>[n("Request Record")]),_:1}),a(k,null,{default:o(()=>[a(X,{ref_key:"refForm",ref:V,modelValue:C.value,"onUpdate:modelValue":e[9]||(e[9]=t=>C.value=t),onSubmit:S(q,["prevent"])},{default:o(()=>[a(x,{modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=t=>c.value=t),rules:[_],label:"University Name",placeholder:"Enter university name",class:"mt-2"},null,8,["modelValue","rules"]),a(x,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=t=>f.value=t),rules:[_],label:"Course Name",placeholder:"Enter course name",class:"mt-2"},null,8,["modelValue","rules"]),a(x,{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=t=>v.value=t),rules:[_],label:"Intake",placeholder:"Enter intake",class:"mt-2"},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),a(K,null,{default:o(()=>[a(Z),a(N,{color:"primary",onClick:q},{default:o(()=>[n("Submit")]),_:1}),a(N,{onClick:e[10]||(e[10]=t=>i.value=!1)},{default:o(()=>[n("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{Xe as default};
