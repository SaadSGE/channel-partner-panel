import{_ as J}from"./AppCardActions-BJyPCjFd.js";import{_ as K}from"./TablePagination-COXtPunl.js";import{_ as W}from"./ShowMore-DOBMvNwR.js";import{_ as X}from"./AppSelect-C3KV9Nr4.js";import{_ as Z}from"./AppTextField-CxuAAbDQ.js";import{a5 as ee,k as te,r as l,H as ae,w as le,o as oe,c as se,b as a,e as o,d as u,v as m,a6 as T,n as re,a7 as A,F as ie}from"./main-BExmZ2kf.js";import{_ as ne}from"./Filters-dc28WK4K.js";import{c as ue}from"./commonFunction-BfWgLDUp.js";import{u as me}from"./recordStore-BRuupE7k.js";import{S as I}from"./sweetalert2-z6gKu1nJ.js";import{V as b}from"./VCardText-Cf-pEaEQ.js";import{V as $,a as de}from"./VRow-BGfSjg9B.js";import{b as E,V as P,c as pe}from"./VCard-BWy6HoPz.js";import{V as ce}from"./VDataTableServer-CW4WaBBh.js";import{V as ve}from"./VForm-BbNpJMZp.js";import{a as q}from"./VTextField-CEVy12qb.js";import{V as fe}from"./VSpacer--EhSoXT7.js";import{V as ye}from"./VDialog-B-MGgqHt.js";import"./index-Bj_q85Ts.js";import"./dialog-transition-CbYxp5Cu.js";import"./forwardRefs-D3j0TLhE.js";import"./lazy-DZ-i-Qlv.js";import"./scopeId-Dfe144HE.js";import"./index-KIGaSWeg.js";import"./VDivider-DGSOfiil.js";import"./VPagination-DXfvNoAY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VSelect-B8JK6cKz.js";import"./VList-CROdwGQN.js";import"./ssrBoot-BNMwvSjN.js";import"./VAvatar-B4kKMTij.js";import"./VImg-ClVMkUI5.js";import"./VMenu-BJx8Sy0I.js";import"./VCheckboxBtn-Ds5tyiho.js";import"./VChip-C7r6BedM.js";import"./VSlideGroup-rtKvT2BM.js";import"./AppDateTimePicker-hfFpXRtK.js";import"./AppAutocomplete-D4Z3zDO1.js";import"./filter-DX8uJgVb.js";import"./api-gXFPZ2Tx.js";import"./index-BYrzgnBV.js";import"./rolePermission-CMaJHVMl.js";import"./helpers-enDgjw4j.js";import"./user-CQ25z172.js";/* empty css              */import"./VDataTable-v8E7VG9h.js";import"./VTable-msns6I6f.js";const Ve={class:"d-flex flex-column align-center"},ge={class:"text-center mt-2"},_e={class:"d-flex justify-space-between flex-wrap gap-6"},ke={class:"d-flex flex-row gap-4 align-center flex-wrap"},ft={__name:"index",setup(xe){const B=ee(()=>"calc(100vh - 200px)"),N=me();te();const s=ue(),d=l(""),p=l(!1),i=l(!1),g=l(""),_=l(""),k=l(""),F=l(!1),x=l(null),C=r=>!!r||"This field is required",c=l(null),v=l(null),f=l(null),y=l(""),D=l([]),M=l([]),z=l([]),S=l([]),w=l(0),n=l(10),V=l(1);ae(async()=>{await U(),await O()});const O=async()=>{s.countries.length===0&&await s.getCountries(),s.intakes.length===0&&await s.getIntakes(),s.universities.length===0&&await s.getUniversities(),D.value=s.countries,M.value=s.intakes,z.value=s.universities},U=async(r=1)=>{p.value=!0;const e=await N.fetchRecord(r,d.value,c.value,v.value,f.value,y.value);S.value=e.data,w.value=e.total,p.value=!1};le([d,c,v,f,y],()=>{U()});const H=r=>{U(r.page)},h=async()=>{x.value.validate().then(async r=>{if(r.valid)try{await N.requestForm({universityName:g.value,courseName:_.value,intakeName:k.value}),I.fire("Success!","Your request has been successfully submitted. Our team will review it and get back to you shortly.","success"),i.value=!1,x.value.reset()}catch{I.fire("Error!","Failed to submit the request.","error")}})},j=[{title:"Country",key:"country.name"},{title:"Intake",key:"intake.name"},{title:"University",key:"university.name"},{title:"Course Type",key:"course.type"},{title:"Course Name",key:"course.name"},{title:"Tuition Fee",key:"tuition_fee"},{title:"Course Duration",key:"course_duration"},{title:"Academic Requirement",key:"academic_requirement"},{title:"English Requirement",key:"english_requirement"},{title:"Actions",key:"actions",sortable:!1}];return(r,e)=>{const L=Z,Q=X,R=W,Y=K,G=J;return oe(),se(ie,null,[a(P,{class:"p-5"},{default:o(()=>[a(b,null,{default:o(()=>[a($,null,{default:o(()=>[a(ne,{"selected-country":c.value,onUpdateCountry:e[0]||(e[0]=t=>c.value=t),"selected-intake":v.value,onUpdateIntake:e[1]||(e[1]=t=>v.value=t),"selected-university2":f.value,onUpdateUniversity2:e[2]||(e[2]=t=>f.value=t),"selected-courseName":y.value,onUpdateCourseName:e[3]||(e[3]=t=>y.value=t)},null,8,["selected-country","selected-intake","selected-university2","selected-courseName"])]),_:1}),u("div",Ve,[a(E,{class:"text-center mt-5"},{default:o(()=>[m(" Search Course/University/Intake ")]),_:1}),a($,{class:"mt-2"},{default:o(()=>[a(de,{cols:"12",sm:"8",md:"6"},{default:o(()=>[a(L,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),placeholder:"Search Course/University/Intake",class:"mx-auto",style:{"max-inline-size":"30rem","min-inline-size":"30rem"}},null,8,["modelValue"])]),_:1})]),_:1}),u("div",ge,[m(" Don't find your desired record? "),u("a",{href:"#",onClick:e[5]||(e[5]=T(t=>i.value=!0,["prevent"]))},"Click here to request")])])]),_:1})]),_:1}),a(G,{class:"mt-2",loading:p.value,"no-actions":""},{default:o(()=>[a(b,null,{default:o(()=>[u("div",_e,[u("div",ke,[a(Q,{modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=t=>n.value=t),items:[10,25,50,100],style:{"inline-size":"6.25rem"}},null,8,["modelValue"])])])]),_:1}),a(ce,{"items-per-page":n.value,"onUpdate:itemsPerPage":e[8]||(e[8]=t=>n.value=t),page:V.value,"onUpdate:page":e[9]||(e[9]=t=>V.value=t),loading:p.value,"items-length":w.value,headers:j,items:S.value,"item-value":"total",class:"text-no-wrap text-sm rounded-0",height:re(B),"onUpdate:options":H},{"item.academic_requirement":o(({item:t})=>[a(R,{text:t.academic_requirement,lines:3},null,8,["text"])]),"item.english_requirement":o(({item:t})=>[a(R,{text:t.english_requirement,lines:3},null,8,["text"])]),bottom:o(()=>[a(Y,{page:V.value,"onUpdate:page":e[7]||(e[7]=t=>V.value=t),"items-per-page":n.value,"total-items":w.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items-length","items","height"])]),_:1},8,["loading"]),a(ye,{modelValue:i.value,"onUpdate:modelValue":e[15]||(e[15]=t=>i.value=t),"max-width":"500px"},{default:o(()=>[a(P,null,{default:o(()=>[a(E,null,{default:o(()=>[m("Request Record")]),_:1}),a(b,null,{default:o(()=>[a(ve,{ref_key:"refForm",ref:x,modelValue:F.value,"onUpdate:modelValue":e[13]||(e[13]=t=>F.value=t),onSubmit:T(h,["prevent"])},{default:o(()=>[a(q,{modelValue:g.value,"onUpdate:modelValue":e[10]||(e[10]=t=>g.value=t),rules:[C],label:"University Name",placeholder:"Enter university name",class:"mt-2"},null,8,["modelValue","rules"]),a(q,{modelValue:_.value,"onUpdate:modelValue":e[11]||(e[11]=t=>_.value=t),rules:[C],label:"Course Name",placeholder:"Enter course name",class:"mt-2"},null,8,["modelValue","rules"]),a(q,{modelValue:k.value,"onUpdate:modelValue":e[12]||(e[12]=t=>k.value=t),rules:[C],label:"Intake",placeholder:"Enter intake",class:"mt-2"},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),a(pe,null,{default:o(()=>[a(fe),a(A,{color:"primary",onClick:h},{default:o(()=>[m("Submit")]),_:1}),a(A,{onClick:e[14]||(e[14]=t=>i.value=!1)},{default:o(()=>[m("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{ft as default};
